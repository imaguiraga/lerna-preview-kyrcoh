{"version":3,"sources":["reportWebVitals.ts","../../topology-dsl-core/src/dsl/core-dsl/resource-base.js","../../topology-dsl-core/src/dsl/core-dsl/resource-elt.js","../../topology-dsl-core/src/dsl/core-dsl/base-icons-map.js","../../topology-dsl-core/src/dsl/core-dsl/resource-dsl.js","../../topology-dsl-core/src/dsl/core-dsl/util.js","preview/diagram/visitor/uid-flow-visitor.js","preview/diagram/visitor/util.js","preview/diagram/visitor/elk-diagram-generator.js","preview/diagram/visitor/elk-dimension-visitor.js","preview/diagram/elk/elk-layout-factory.js","preview/diagram/elk/x6-elk-renderer.js","sample.js","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","idGenFn","prefix","index","NODEIDGENFN","ResourceElt","elts","kind","tagName","provider","this","idGenIt","title","nostart","noend","id","next","value","compound","tags","direction","_start","_finish","data","name","eltsFrom","eltsTo","r","resolveElt","push","toString","isTerminal","val","result","undefined","Array","isArray","map","elt","filter","e","call","err","console","error","message","el","toElt","visitor","filterFn","visit","length","splice","tmp","split","join","tag","key","from","to","forEach","values","v","includes","CompositeResourceElt","initElts","WORKFLOW_PROVIDER","GROUP","GroupElt","OPTIONAL","OptionalElt","REPEAT","RepeatElt","SEQUENCE","SequenceElt","BASE_ICONS_MAP","Map","className","iconURL","STYLE","fanIn","fanInTo","sequence","_tagName_","_set_","get","_nostart_","fanOut","fanOutFrom","_noend_","choice","fanOutElts","fanOut_fanIn","optional","repeat","oneOrMore","zeroOrMore","group","source","sink","jsonToDslObject","o","start","Object","setPrototypeOf","prototype","merge","branch","START","FINISH","PORT","EDGE","DslToELKGenerator","edgeCntIt","tree","layoutOptions","children","_tree","GroupEltDslToELKGenerator","instance","visitGroup","OptionalEltDslToELKGenerator","visitOptional","SequenceEltDslToELKGenerator","visitSequence","RepeatEltDslToELKGenerator","visitRepeat","TerminalFlowEltDslToELKGenerator","visitTerminal","n","label","model","labels","text","properties","getPortModel","style","startArrow","endArrow","parent","getNodeModel","graph","ports","edges","finish","type","buildEdges","buildNodes","self","arr","sources","getFinish","targets","getStart","buildLinks","a","ctree","accept","foundElt","toArray","_sources_","_targets_","getEdgeModel","t","s","link","getSynthPortModel","links","i","ELKDimensionVisitor","nodeWidth","nodeHeight","iconWidth","portSize","labelHeight","_nodeWidth","_nodeHeight","_iconWidth","_portSize","_labelHeight","root","stack","width","height","x","y","len","w","Math","floor","nl","h","p","l","elkLayout","elkDimensionVisitor","elk","ELK","options","UNIT","layoutFn","inelkgraph","Promise","resolve","elkgraph","knownLayoutOptions","d","layout","logging","measureExecutionTime","elkLayoutRelative","elkNode","ax","ay","target","sections","junctionPoints","j","startPoint","endPoint","bendPoints","b","c","toAbsoluteElkLayoutIt","toAbsoluteElkLayout","newSize","arguments","nodeSize","newOptions","LINE","Graph","registerRouter","vertices","args","view","Point","create","EMPTY_ARRAY","RESOURCE_HTML","render","node","getData","wrap","document","createElement","display","iconPath","encodeURI","img","src","appendChild","textdiv","padding","margin","innerHTML","product","shouldComponentUpdate","hasChanged","toX6LayoutRec","elkLayoutNode","x6Layout","nodes","createX6Node","createX6Edge","attrs","body","class","fo","clazz","PORT_RADIUS","items","groups","abs","position","zIndex","circle","magnet","fontSize","fill","shape","rx","ry","html","createX6Label","strokeWidth","opacity","line","sourceMarker","size","targetMarker","regex1","regex2","match","cell","replace","port","bp","contentPane","getElementById","selectElt","minimapContainer","setAttribute","renderer","_container_","_minimap_","_width_","_height_","_iconWidth_","containerElt","x6Graph","scrollWidth","scrollHeight","container","grid","background","color","interacting","async","frozen","sorting","scroller","enabled","pannable","pageVisible","pageBreak","panning","modifiers","mousewheel","connecting","allowBlank","allowLoop","highlight","anchor","connector","connectionPoint","router","minimap","minScale","maxScale","on","isNode","addTools","useCellGeometry","stroke","strokeDasharray","fillOpacity","removeTools","createX6Graph","toElkLayout","lookup","set","buildNodeLookup","refreshLayoutFn","_elkgraph_","Date","getTime","fromJSON","unfreeze","progress","done","time","log","batchSize","zoomToFit","catch","collapsed","_children","_edges","diagram","listener","curParams","messageCallbackFn","event","jsonrpc","method","params","curSelection","has","firstChild","remove","opt","add","removeEventListener","addEventListener","dispatchEvent","Event","updateSelection","window","origin","location","resize","documentElement","clientWidth","clientHeight","offsetHeight","centerContent"],"mappings":"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","file":"static/js/main.4013a179.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","/**\r\n * idGenFn function.\r\n */\r\nfunction* idGenFn(prefix, index) {\r\n  while (index >= 0) {\r\n    let reset = yield index++;\r\n    if (reset) {\r\n      index = 0;\r\n    }\r\n  }\r\n}\r\n\r\nexport const NODEIDGENFN = idGenFn('node.', 0);\r\n\r\n/**\r\n * Class ResourceElt.\r\n */\r\nexport class ResourceElt {\r\n  /**\r\n   * Create a ResourceElt.\r\n   * @param {object} elts - The elts value.\r\n   * @param {string} kind - The kind value.\r\n   * @param {string} tagName - The tagName value.\r\n   * @param {string} provider - The resource provider value.\r\n   */\r\n  constructor(elts, kind, tagName, provider) {\r\n    // Next Id Generator\r\n    this.idGenIt = NODEIDGENFN;\r\n    this.title = 'title';\r\n\r\n    // Add start finish nodes\r\n    this.nostart = false;\r\n    this.noend = false;\r\n\r\n    //get new id\r\n    this.kind = kind || 'resource';\r\n    this.tagName = tagName || 'resource';\r\n    this.id = this.tagName + '.' + this.idGenIt.next().value;\r\n    this.provider = provider;\r\n    this.compound = false;\r\n    this.tags = [];\r\n\r\n    // Layout direction\r\n    this.direction = null;\r\n\r\n    this._start = null;\r\n    this._finish = null;\r\n\r\n    this.data = {};\r\n    this.name = this.id;\r\n    this.title = this.id;\r\n\r\n    this.elts = [];\r\n    this.eltsFrom = [];\r\n    this.eltsTo = [];\r\n\r\n    let r = this.resolveElt(elts);\r\n    if (r !== null) {\r\n      // only one elt can be added\r\n      this.elts.push(r);\r\n      this.title = r.toString();\r\n    }\r\n\r\n  }\r\n\r\n  _up_() {\r\n    this.direction = 'UP';\r\n    return this;\r\n  }\r\n\r\n  _down_() {\r\n    this.direction = 'DOWN';\r\n    return this;\r\n  }\r\n\r\n  _left_() {\r\n    this.direction = 'LEFT';\r\n    return this;\r\n  }\r\n\r\n  _right_() {\r\n    this.direction = 'RIGHT';\r\n    return this;\r\n  }\r\n\r\n  get start() {\r\n    if (this._start == null) {\r\n      this._start = {\r\n        kind: this.kind,\r\n        tagName: this.tagName,\r\n        id: this.id + '.start',\r\n        provider: this.provider,\r\n        compound: this.compound,\r\n        isTerminal: () => true,\r\n        elts: []\r\n      };\r\n    }\r\n\r\n    return this._start;\r\n  }\r\n\r\n  set start(val) {\r\n    this._start = val;\r\n  }\r\n\r\n  get finish() {\r\n    if (this._finish == null) {\r\n      this._finish = {\r\n        kind: this.kind,\r\n        tagName: this.tagName,\r\n        id: this.id + '.finish',\r\n        provider: this.provider,\r\n        compound: this.compound,\r\n        isTerminal: () => true,\r\n        elts: []\r\n      };\r\n    }\r\n    return this._finish;\r\n\r\n  }\r\n\r\n  set finish(val) {\r\n    this._finish = val;\r\n  }\r\n\r\n  isTerminal() {\r\n    return true;\r\n  }\r\n\r\n  isGroup() {\r\n    return (this.kind === 'group');\r\n  }\r\n\r\n  initElts(elts) {\r\n    let result = [];\r\n    if (elts === undefined || elts === null) {\r\n      return result;\r\n    }\r\n\r\n    if (Array.isArray(elts)) {\r\n      result = elts.map(\r\n        (elt) => { return this.resolveElt(elt); }, this\r\n      ).filter(e => { return e != null; }, this);\r\n\r\n    } else {\r\n      let r = this.resolveElt(elts);\r\n      if (r != null) {\r\n        result.push(r);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  resolveElt(elt) {\r\n    // Only accept primitive types as Terminal Element \r\n    let result = null;\r\n    if (elt !== undefined) {\r\n      try {\r\n        if (typeof elt === 'function') {\r\n          result = elt.call();\r\n        }\r\n\r\n        if (typeof result === 'object' && elt instanceof ResourceElt) {\r\n          // Allow complex element as terminal\r\n          result = elt;\r\n\r\n        } else {\r\n          // primitive\r\n          result = elt.toString();\r\n        }\r\n\r\n      } catch (err) {\r\n        console.error(err.message + ' - ' + err);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  toElt(elt) {\r\n    let result = null;\r\n    if (elt !== undefined && elt !== null) {\r\n      result = elt;\r\n      if (result instanceof ResourceElt) {\r\n        return result;\r\n      } else {\r\n        try {\r\n          if (typeof elt === 'function') {\r\n            result = elt.call();\r\n          }\r\n\r\n          if (result instanceof ResourceElt) {\r\n            return result;\r\n          } else if (typeof result === 'object') {\r\n            // Allow complex element as terminal\r\n            if (Array.isArray(elt)) {\r\n              result = elt.map(\r\n                (el) => { return this.toElt(el); }, this\r\n              ).filter((el) => { return el != null; }, this);\r\n\r\n            } else {\r\n              result = this.toElt(elt);\r\n            }\r\n\r\n          } else {\r\n            // very likely a primitive type\r\n            result = new ResourceElt(elt, 'resource', 'resource', this.provider);\r\n          }\r\n\r\n        } catch (err) {\r\n          console.error(err.message + ' - ' + err);\r\n        }\r\n      }\r\n    }\r\n    // default to object\r\n    return result;\r\n  }\r\n\r\n  foundElt(elt) {\r\n    return this.id === elt.id;\r\n  }\r\n\r\n  accept(visitor, filterFn) {\r\n    return visitor.visit(this, filterFn);\r\n  }\r\n\r\n  _add_(elt) {\r\n    let r = this.resolveElt(elt);\r\n    if (r !== null) {\r\n      // only one elt can be added\r\n      if (this.elts.length > 0) {\r\n        this.elts.splice(0, this.elts.length);\r\n      }\r\n      this.elts.push(r);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  _tagName_(value) {\r\n    if (value) {\r\n      this.tagName = value;\r\n      // Replace prefix with tagName\r\n      let tmp = this.id.split('\\.');\r\n      tmp[0] = this.tagName;\r\n      this.id = tmp.join('.');\r\n      // Add to tags set\r\n      this.tag(value);\r\n      \r\n    }\r\n    return this;\r\n  }\r\n\r\n  _title_(value) {\r\n    this.title = value;\r\n    return this;\r\n  }\r\n\r\n  _name_(value) {\r\n    this.name = value;\r\n    return this;\r\n  }\r\n\r\n  _id_(value) {\r\n    this.id = value;\r\n    return this;\r\n  }\r\n\r\n  _set_(key, value) {\r\n    this.data[key] = value;\r\n    return this;\r\n  }\r\n\r\n  _get_(key) {\r\n    return this.data[key];\r\n  }\r\n\r\n  // Inbound bindings\r\n  _in_(...elts) {\r\n    return this.from(...elts);\r\n  }\r\n\r\n  // Outbound bindings\r\n  _out_(...elts) {\r\n    return this.to(...elts);\r\n  }\r\n\r\n  to(...elts) {\r\n    if (Array.isArray(elts)) {\r\n      elts.forEach((elt) => {\r\n        this.eltsTo.push(this.toElt(elt));\r\n      }, this);\r\n\r\n    } else {\r\n      this.eltsTo.push(this.toElt(elts));\r\n    }\r\n    return this;\r\n  }\r\n\r\n  from(...elts) {\r\n    if (Array.isArray(elts)) {\r\n      elts.forEach((elt) => {\r\n        this.eltsFrom.push(this.toElt(elt));\r\n      }, this);\r\n\r\n    } else {\r\n      this.eltsFrom.push(this.toElt(elts));\r\n    }\r\n    return this;\r\n  }\r\n \r\n  tag(...values) {\r\n    // Add only to tags if it doesn't exist\r\n    if (Array.isArray(values)) {\r\n      values.forEach((v) => {\r\n        if (!this.tags.includes(v)) {\r\n          this.tags.push(v);\r\n        }\r\n      }, this);\r\n\r\n    } else {\r\n      if (!this.tags.includes(values)) {\r\n        this.tags.push(values);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  _noend_(value) {\r\n    this.noend = value;\r\n    return this;\r\n  }\r\n\r\n  _nostart_(value) {\r\n    this.nostart = value;\r\n    return this;\r\n  }\r\n\r\n}\r\n\r\n\r\n/**\r\n * Class CompositeResourceElt.\r\n * @extends ResourceElt\r\n */\r\nexport class CompositeResourceElt extends ResourceElt {\r\n  /**\r\n   * Create a CompositeResourceElt.\r\n   * @param {object} elts - The elts value.\r\n   * @param {string} kind - The kind value.\r\n   * @param {string} tagName - The tagName value.\r\n   * @param {string} provider - The resource provider value.\r\n   */\r\n  constructor(elts, kind, tagName, provider) {\r\n    super(elts, kind, tagName, provider);\r\n    this.elts = [];\r\n    this.title = null;\r\n    this._start = null;\r\n    this._finish = null;\r\n    //this.start = new ResourceElt('start', 'resource', 'mark', provider);\r\n    //this.finish = new ResourceElt('finish', 'resource', 'mark', provider);\r\n    this.compound = true;\r\n\r\n    this.elts = this.initElts(elts);//this.resolveElt(elts);//\r\n\r\n    if (this.title === null) {\r\n      this.title = '' + this.id;\r\n    }\r\n  }\r\n\r\n  isTerminal() {\r\n    return false;\r\n  }\r\n\r\n  resolveElt(elt) {\r\n    return this.toElt(elt);\r\n  }\r\n\r\n  foundElt(elt) {\r\n    return this.elts.filter(e => e.id === elt.id, this).length > 0;\r\n  }\r\n\r\n  _add_(...elts) {\r\n    if (Array.isArray(elts)) {\r\n      elts.forEach((e) => {\r\n        let r = this.resolveElt(e);\r\n        if (r != null) {\r\n          this.elts.push(r);\r\n        }\r\n      }, this);\r\n\r\n    } else {\r\n      let r = this.resolveElt(elts);\r\n      if (r != null) {\r\n        this.elts.push(r);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n}\r\n","import {\r\n  CompositeResourceElt,\r\n  ResourceElt\r\n} from './resource-base.js';\r\n\r\nexport const WORKFLOW_KIND = 'workflow';\r\nexport const WORKFLOW_PROVIDER = 'default';\r\n\r\nconst GROUP = 'group';\r\n/**\r\n * Class GroupElt.\r\n * @extends CompositeResourceElt\r\n */\r\nexport class GroupElt extends CompositeResourceElt {\r\n  /**\r\n   * Create a SequenceElt.\r\n   * @param {object} elts - The elts value.\r\n   */\r\n  constructor(elts) {\r\n    super(elts, GROUP, GROUP, WORKFLOW_PROVIDER);\r\n  }\r\n\r\n}\r\n\r\nconst OPTIONAL = 'optional';\r\n/**\r\n * Class OptionalElt.\r\n * @extends CompositeResourceElt\r\n */\r\nexport class OptionalElt extends CompositeResourceElt {\r\n  /**\r\n   * Create a OptionalElt.\r\n   * @param {object} elts - The elts value.\r\n   */\r\n  constructor(elts) {\r\n    super(elts, OPTIONAL, OPTIONAL, WORKFLOW_PROVIDER);\r\n  }\r\n\r\n  _add_(elt) {\r\n    // only one elt can be added\r\n    if (this.elts.length > 0) {\r\n      this.elts.splice(0, this.elts.length);\r\n    }\r\n    this.elts.push(this.resolveElt(elt));\r\n    return this;\r\n  }\r\n}\r\n\r\nconst REPEAT = 'repeat';\r\n/**\r\n * Class RepeatElt.\r\n * @extends CompositeResourceElt\r\n */\r\nexport class RepeatElt extends CompositeResourceElt {\r\n  /**\r\n   * Create a RepeatElt.\r\n   * @param {object} elts - The elts value.\r\n   */\r\n  constructor(elts) {\r\n    super(elts, REPEAT, REPEAT, WORKFLOW_PROVIDER);\r\n  }\r\n\r\n  _add_(elt) {\r\n    // only one elt can be added\r\n    if (this.elts.length > 0) {\r\n      this.elts.splice(0, this.elts.length);\r\n    }\r\n    this.elts.push(this.resolveElt(elt));\r\n    return this;\r\n  }\r\n}\r\n\r\nconst SEQUENCE = 'sequence';\r\n/**\r\n * Class SequenceElt.\r\n * @extends CompositeResourceElt\r\n */\r\nexport class SequenceElt extends CompositeResourceElt {\r\n  /**\r\n   * Create a SequenceElt.\r\n   * @param {object} elts - The elts value.\r\n   */\r\n  constructor(elts) {\r\n    super(elts, SEQUENCE, SEQUENCE, WORKFLOW_PROVIDER);\r\n  }\r\n\r\n}\r\n\r\nconst RESOURCE = 'resource';\r\n/**\r\n * Class TerminalElt.\r\n */\r\nexport class TerminalElt extends ResourceElt {\r\n\r\n  /**\r\n   * Create a TerminalElt.\r\n   * @param {object} elt - The elt value.\r\n   */\r\n  constructor(elt) {\r\n    super(elt, RESOURCE, RESOURCE, WORKFLOW_PROVIDER);\r\n  }\r\n\r\n}\r\n","export const WORKFLOW_KIND = 'workflow';\r\nexport const WORKFLOW_PROVIDER = 'default';\r\n\r\nexport const BASE_ICONS_MAP = new Map([\r\n  ['fanOut_fanIn', { className: 'fanOut_fanIn', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/fanOut_fanIn-diagram-3-fill.svg' }],\r\n  ['choice', { className: 'choice', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/fanOut_fanIn-diagram-3-fill.svg' }],\r\n  ['fanIn', { className: 'fanIn', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/fanIn-diagram-3-fill.svg' }],\r\n  ['merge', { className: 'merge', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/fanIn-diagram-3-fill.svg' }],\r\n  ['fanOut', { className: 'fanOut', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/fanOut-diagram-3-fill.svg' }],\r\n  ['branch', { className: 'branch', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/fanOut-diagram-3-fill.svg' }],\r\n  ['split', { className: 'split', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/fanOut-diagram-3-fill.svg' }],\r\n  ['tree', { className: 'tree', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/fanOut-diagram-3-fill.svg' }],\r\n  ['link', { className: 'link', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/fanOut-diagram-3-fill.svg' }],\r\n  ['use', { className: 'use', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/fanOut-diagram-3-fill.svg' }],\r\n  ['parallel', { className: 'parallel', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/fanOut-diagram-3-fill.svg' }],\r\n  ['optional', { className: 'optional', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/optional-question-square-fill.svg' }],\r\n  ['repeat', { className: 'repeat', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/repeat-bootstrap-reboot.svg' }],\r\n  ['sequence', { className: 'sequence', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/sequence-diagram-3-fill.svg' }],\r\n  ['resource', null],\r\n  ['state', null],\r\n  ['zeroOrMore', { className: 'zeroOrMore', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/repeat-bootstrap-reboot.svg' }],\r\n  ['oneOrMore', { className: 'oneOrMore', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/repeat-bootstrap-reboot.svg' }],\r\n  ['group', { className: 'group', provider: WORKFLOW_PROVIDER, iconURL: 'assets/icons/base/group-grid-fill.svg' }]\r\n]\r\n);","import {\r\n  OptionalElt,\r\n  RepeatElt,\r\n  SequenceElt,\r\n  TerminalElt,\r\n  GroupElt\r\n} from './resource-elt.js';\r\n\r\nimport { BASE_ICONS_MAP } from './base-icons-map';\r\nimport { ResourceElt } from './resource-base.js';\r\nconst STYLE = 'style';\r\n\r\n\r\n/**\r\n * Create a fanIn dsl tree.\r\n * @param {array|object} elts - The elements fanning in.\r\n * @param {object} fanInTo - The fanInTo element.\r\n * @return {object} flow dsl.\r\n */\r\nexport function fanIn(elts, fanInTo) {\r\n  return sequence(elts, fanInTo)\r\n    ._tagName_('fanIn')\r\n    ._set_(STYLE, BASE_ICONS_MAP.get('fanIn'))\r\n    ._nostart_(true);\r\n}\r\n\r\n// Extend ResourceElt prototype\r\nResourceElt.prototype.fanIn = function (elts, fanInTo) {\r\n  let elt = fanIn(elts, fanInTo);\r\n  this.to(elt);\r\n  return elt;\r\n\r\n};\r\n\r\n/**\r\n * Create a fanOut dsl tree.\r\n * @param {object} fanOutFrom - The fanOutFrom element.\r\n * @param {array|object} elts - The elements.\r\n * @return {object} flow dsl.\r\n */\r\nexport function fanOut(fanOutFrom, elts) {\r\n  return sequence(fanOutFrom, elts)\r\n    ._tagName_('fanOut')\r\n    ._set_(STYLE, BASE_ICONS_MAP.get('fanOut'))\r\n    ._noend_(true);\r\n}\r\n\r\n// Extend ResourceElt prototype\r\nResourceElt.prototype.fanOut = function (fanOutFrom, elts) {\r\n  let elt = fanOut(fanOutFrom, elts);\r\n  this.to(elt);\r\n  return elt;\r\n\r\n};\r\n\r\n/**\r\n * Create a fanInOut dsl tree.\r\n * @param {array|object} fanInElts - The fanInElts element.\r\n * @param {object} fanInTo - The fanInTo element.\r\n * @param {array|object} fanOutElts - The fanOutElts elements.\r\n * @return {object} flow dsl.\r\n */\r\nexport function fanIn_fanOut(fanInElts, fanInTo, fanOutElts) {\r\n  return sequence(fanInElts, fanInTo, fanOutElts)\r\n    ._tagName_('fanIn_fanOut')\r\n    ._set_(STYLE, BASE_ICONS_MAP.get('fanIn_fanOut'))\r\n    ._nostart_(true)\r\n    ._noend_(true);\r\n}\r\n\r\n/**\r\n * Create a fanInOut dsl tree.\r\n * @param {object} fanOutFrom - The fanOutFrom element.\r\n * @param {array|object} fanOutElts - The fanOutElts elements.\r\n * @param {object} fanInTo - The fanInTo element.\r\n * @return {object} flow dsl.\r\n */\r\nexport function fanOut_fanIn(fanOutFrom, fanOutElts, fanInTo) {\r\n  return sequence(fanOutFrom, fanOutElts, fanInTo)._tagName_('fanOut_fanIn')._set_(STYLE, BASE_ICONS_MAP.get('fanOut_fanIn'));\r\n}\r\n\r\n/**\r\n * Create a choice dsl tree.\r\n * @param {array|object} elts - The elements.\r\n * @return {object} flow dsl.\r\n */\r\nexport function choice(fanOutFrom, fanOutElts, fanInTo) {\r\n  return fanOut_fanIn(fanOutFrom, fanOutElts, fanInTo)._tagName_('choice')._set_(STYLE, BASE_ICONS_MAP.get('choice'));\r\n}\r\n\r\n// Extend ResourceElt prototype\r\nResourceElt.prototype.choice = function (fanOutFrom, fanOutElts, fanInTo) {\r\n  let elt = choice(fanOutFrom, fanOutElts, fanInTo);\r\n  this.to(elt);\r\n  return elt;\r\n\r\n};\r\n\r\n/**\r\n * Create a merge dsl tree.\r\n * @param {array|object} elts - The elements fanning in.\r\n * @param {object} fanInTo - The fanInTo element.\r\n * @return {object} flow dsl.\r\n */\r\nexport function merge(elts, fanInTo) {\r\n  return fanIn(elts, fanInTo)._tagName_('fanIn')._set_(STYLE, BASE_ICONS_MAP.get('merge'));\r\n}\r\n\r\n// Extend ResourceElt prototype\r\nResourceElt.prototype.merge = function (elts, fanInTo) {\r\n  let elt = merge(elts, fanInTo);\r\n  this.to(elt);\r\n  return elt;\r\n\r\n};\r\n\r\n/**\r\n * Create a branch dsl tree.\r\n * @param {object} fanOutFrom - The fanOutFrom element.\r\n * @param {array|object} elts - The elements.\r\n * @return {object} flow dsl.\r\n */\r\nexport function branch(fanOutFrom, elts) {\r\n  return fanOut(fanOutFrom, elts)._tagName_('branch')._set_(STYLE, BASE_ICONS_MAP.get('branch'));\r\n}\r\n\r\n// Extend ResourceElt prototype\r\nResourceElt.prototype.branch = function (fanOutFrom, elts) {\r\n  let elt = branch(fanOutFrom, elts);\r\n  this.to(elt);\r\n  return elt;\r\n\r\n};\r\n\r\n/**\r\n * Create a split dsl tree.\r\n * @param {object} fanOutFrom - The fanOutFrom element.\r\n * @param {array|object} elts - The elements.\r\n * @return {object} flow dsl.\r\n */\r\nexport function split(fanOutFrom, elts) {\r\n  return fanOut(fanOutFrom, elts)._tagName_('split')._set_(STYLE, BASE_ICONS_MAP.get('split'));\r\n}\r\n\r\n/**\r\n * Create an optional dsl tree.\r\n * @param {object} elt - The element.\r\n * @return {object} flow dsl.\r\n */\r\nexport function optional(elt) {\r\n  return new OptionalElt(elt)._set_(STYLE, BASE_ICONS_MAP.get('optional'));\r\n}\r\n\r\n// Extend ResourceElt prototype\r\nResourceElt.prototype.optional = function (...elts) {\r\n  let elt = optional(...elts);\r\n  this.to(elt);\r\n  return elt;\r\n\r\n};\r\n\r\n/**\r\n * Create a repeat dsl tree.\r\n * @param {object} elt - The element.\r\n * @return {object} flow dsl.\r\n */\r\nexport function repeat(elt) {\r\n  return new RepeatElt(elt)._set_(STYLE, BASE_ICONS_MAP.get('repeat'));\r\n}\r\n\r\n// Extend ResourceElt prototype\r\nResourceElt.prototype.repeat = function (...elts) {\r\n  let elt = repeat(...elts);\r\n  this.to(elt);\r\n  return elt;\r\n\r\n};\r\n\r\n/**\r\n * Create a oneOrMore dsl tree.\r\n * @param {array|object} elts - The elements.\r\n * @return {object} flow dsl.\r\n */\r\nexport function oneOrMore(elt) {\r\n  return repeat(elt)._set_(STYLE, BASE_ICONS_MAP.get('oneOrMore'));\r\n}\r\n\r\n// Extend ResourceElt prototype\r\nResourceElt.prototype.oneOrMore = function (...elts) {\r\n  let elt = oneOrMore(...elts);\r\n  this.to(elt);\r\n  return elt;\r\n\r\n};\r\n\r\n/**\r\n * Create a sequence dsl tree.\r\n * @param {array|object} elts - The elements.\r\n * @return {object} flow dsl.\r\n */\r\nexport function sequence(...elts) {\r\n  return new SequenceElt([...elts])._set_(STYLE, BASE_ICONS_MAP.get('sequence'));\r\n}\r\n\r\n// Extend ResourceElt prototype\r\nResourceElt.prototype.sequence = function (...elts) {\r\n  let elt = sequence(...elts);\r\n  this.to(elt);\r\n  return elt;\r\n\r\n};\r\n\r\n/**\r\n * Create a terminal dsl tree.\r\n * @param {object} elt - The element.\r\n * @return {object} flow dsl.\r\n */\r\nexport function terminal(elt) {\r\n  return new TerminalElt(elt)._set_(STYLE, BASE_ICONS_MAP.get('resource'));\r\n}\r\n\r\n/**\r\n * Create a node dsl tree.\r\n * @param {array|object} elts - The elements.\r\n * @return {object} flow dsl.\r\n */\r\nexport function node(elt) {\r\n  return terminal(elt);\r\n}\r\n\r\n/**\r\n * Create a from dsl tree.\r\n * @param {array|object} elts - The elements.\r\n * @return {object} flow dsl.\r\n */\r\nexport function from(elt) {\r\n  return terminal(elt);\r\n}\r\n\r\n/**\r\n * Create a zeroOrMore dsl tree.\r\n * @param {object} elt - The element.\r\n * @return {object} flow dsl.\r\n */\r\nexport function zeroOrMore(elt) {\r\n  return optional(repeat(elt))._set_(STYLE, BASE_ICONS_MAP.get('zeroOrMore'));\r\n}\r\n\r\n// Extend ResourceElt prototype\r\nResourceElt.prototype.zeroOrMore = function (...elts) {\r\n  let elt = zeroOrMore(...elts);\r\n  this.to(elt);\r\n  return elt;\r\n\r\n};\r\n\r\n/**\r\n * Create a resource dsl tree.\r\n * @param {object} elt - The element.\r\n * @return {object} resource dsl.\r\n */\r\nexport function resource(...elt) {\r\n  if (Array.isArray(elt) && elt.length > 1) {\r\n    return group(...elt);\r\n  } else {\r\n    return terminal(elt[0])._tagName_('resource')._set_(STYLE, BASE_ICONS_MAP.get('resource'));\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Create a group dsl tree.\r\n * @param {object} elts - The elements.\r\n * @return {object} group dsl.\r\n */\r\nexport function group(...elts) {\r\n  return new GroupElt([...elts])._set_(STYLE, BASE_ICONS_MAP.get('group'));\r\n}\r\n\r\n// Extend ResourceElt prototype\r\nResourceElt.prototype.group = function (...elts) {\r\n  let elt = group(...elts);\r\n  this.to(elt);\r\n  return elt;\r\n\r\n};\r\n\r\n/**\r\n * Create a block dsl tree.\r\n * @param {object} elts - The elements.\r\n * @return {object} group dsl.\r\n */\r\nexport function block(...elts) {\r\n  return group(...elts)._tagName_('block')._set_(STYLE, BASE_ICONS_MAP.get('group'));\r\n}\r\n\r\n/**\r\n * Tag as a source.\r\n * @param {object} elts - The elements to tags.\r\n * @return {object} tagged elements.\r\n */\r\nexport function source(...elts) {\r\n  if (Array.isArray(elts)) {\r\n    elts.forEach((elt) => {\r\n      this.toElt(elt).tag('source');\r\n    }, this);\r\n\r\n  } else {\r\n    this.toElt(elts).tag('source');\r\n  }\r\n  return elts;\r\n}\r\n\r\n// Extend ResourceElt prototype\r\nResourceElt.prototype.source = function (...elts) {\r\n  let elt = source(...elts);\r\n  this.to(elt);\r\n  return elt;\r\n\r\n};\r\n\r\n/**\r\n * Tag as a source.\r\n * @param {object} elts - The elements to tags.\r\n * @return {object} tageed elements.\r\n */\r\nexport function sink(...elts) {\r\n  if (Array.isArray(elts)) {\r\n    elts.forEach((elt) => {\r\n      this.toElt(elt).tag('sink');\r\n    }, this);\r\n\r\n  } else {\r\n    this.toElt(elts).tag('sink');\r\n  }\r\n  return elts;\r\n}\r\n\r\n// Extend ResourceElt prototype\r\nResourceElt.prototype.sink = function (...elts) {\r\n  let elt = sink(...elts);\r\n  this.to(elt);\r\n  return elt;\r\n\r\n};\r\n// pipeline -> stages -> jobs -> tasks -> steps ","import {\r\n  ResourceElt,\r\n  CompositeResourceElt\r\n} from './resource-base.js';\r\n\r\nexport function isContainer(n) {\r\n  return (n.children && n.children != null && n.children.length > 0) ||\r\n    (n && n.model && n.model.compound === true);\r\n}\r\n\r\nexport function clone_bak(obj) {\r\n  let copy = Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));\r\n  return copy;\r\n}\r\n\r\n// Reset ids\r\nexport function resetIds(obj, idx) {\r\n  if (obj.id) {\r\n    // Append a suffix\r\n    obj.id = obj.id + '_' + idx;\r\n\r\n    if (obj._start !== null) {\r\n      obj._start.id = obj._start.id + '_' + idx;\r\n    }\r\n    if (obj._finish !== null) {\r\n      obj._finish.id = obj._finish.id + '_' + idx;\r\n    }\r\n  }\r\n  return obj;\r\n}\r\n\r\n// Clone and reset ids\r\nexport function clone(obj, idx) {\r\n  if (obj === undefined || obj === null) {\r\n    return obj;\r\n  }\r\n  let copy = Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));\r\n  // Deep copy\r\n  if (copy.compound) {\r\n    if (Array.isArray(copy.elts)) {\r\n      copy.elts = copy.elts.map((elt) => {\r\n        return clone(elt, idx);\r\n      });\r\n    }\r\n  }\r\n\r\n  if (copy._start !== null) {\r\n    copy._start = clone(copy._start, idx);\r\n  }\r\n  if (copy._finish !== null) {\r\n    copy._finish = clone(copy._finish, idx);\r\n  }\r\n\r\n  return resetIds(copy, idx);\r\n}\r\n\r\n// This is an assign function that copies full descriptors\r\nexport function completeAssign(target, ...sources) {\r\n  sources.forEach(source => {\r\n    let descriptors = Object.keys(source).reduce((descriptors, key) => {\r\n      descriptors[key] = Object.getOwnPropertyDescriptor(source, key);\r\n      return descriptors;\r\n    }, {});\r\n\r\n    // By default, Object.assign copies enumerable Symbols, too\r\n    Object.getOwnPropertySymbols(source).forEach(sym => {\r\n      let descriptor = Object.getOwnPropertyDescriptor(source, sym);\r\n      if (descriptor.enumerable) {\r\n        descriptors[sym] = descriptor;\r\n      }\r\n    });\r\n    Object.defineProperties(target, descriptors);\r\n  });\r\n  return target;\r\n}\r\n//*/\r\n\r\nexport function jsonToDslObject(o) {\r\n  let result = o;\r\n  if (o.start === undefined) {\r\n    if (o.compound) {\r\n      Object.setPrototypeOf(o, CompositeResourceElt.prototype);\r\n    } else {\r\n      Object.setPrototypeOf(o, ResourceElt.prototype);\r\n    }\r\n    if (Array.isArray(result.elts)) {\r\n      // Recursively enrich elts\r\n      result.elts = result.elts.map((v) => {\r\n        return jsonToDslObject(v);\r\n      });\r\n    }\r\n  }\r\n  return result;\r\n}\r\n","import {\r\n  jsonToDslObject\r\n} from '@imaguiraga/topology-dsl-core';\r\n/**\r\n * Class FlowUIDVisitor.\r\n */\r\nexport class FlowUIDVisitor {\r\n  /**\r\n   * Create a FlowUIDVisitor.\r\n   * @param {string} prefix - The UID prefix.\r\n   */\r\n  constructor(prefix) {\r\n    this._prefix = prefix || 'UID';\r\n  }\r\n\r\n  visit(_tree, filterFn) {\r\n    if (typeof _tree === 'undefined' || _tree === null) {\r\n      return null;\r\n    }\r\n    let tree = _tree;\r\n\r\n    // Add start finish properties if missing\r\n    tree = jsonToDslObject(tree);\r\n    return tree; // Skip UID rename\r\n  }\r\n\r\n  _visit_(_tree, filterFn) {\r\n    if (typeof _tree === 'undefined' || _tree === null) {\r\n      return null;\r\n    }\r\n    let tree = _tree;\r\n\r\n    // Add start finish properties if missing\r\n    tree = jsonToDslObject(tree);\r\n\r\n    // Non terminal nodes have start and finish\r\n    if (!tree.isTerminal()) {\r\n      tree.start.id = this._prefix + '_' + tree.subType + '_start';\r\n      tree.finish.id = this._prefix + '_' + tree.subType + '_finish';\r\n    }\r\n\r\n    tree.elts.filter(elt => elt instanceof Object).forEach(\r\n      (elt, index) => {\r\n        // keep only terminal nodes\r\n        let p = this._prefix.concat('_' + index);\r\n        elt.id = p + '_' + elt.subType;\r\n        elt.accept(new FlowUIDVisitor(p), null);\r\n      });\r\n    return tree;\r\n  }\r\n\r\n}\r\n","\r\n/**\r\n * Class FlowToELKVisitor.\r\n */\r\nexport function* idGenFn(prefix, index) {\r\n  while (index >= 0) {\r\n    yield prefix + index;\r\n    index++;\r\n  }\r\n}\r\n\r\nexport function isIconFn(n) {\r\n  return (n && n.model && n.model.tagName === 'mark');\r\n}\r\n\r\nexport function isDefaultResourceFn(n) {\r\n  return (n && n.model && n.model.tagName === 'resource');\r\n}\r\n\r\n// Reset ids\r\nexport function resetIds(obj, idx) {\r\n  if (obj.id) {\r\n    // Append a suffix\r\n    obj.id = obj.id + '_' + idx;\r\n\r\n    if (obj._start !== null) {\r\n      obj._start.id = obj._start.id + '_' + idx;\r\n    }\r\n    if (obj._finish !== null) {\r\n      obj._finish.id = obj._finish.id + '_' + idx;\r\n    }\r\n  }\r\n  return obj;\r\n}\r\n\r\n// Clone and reset ids\r\nexport function clone(obj, idx) {\r\n  if (obj === undefined || obj === null) {\r\n    return obj;\r\n  }\r\n  let copy = Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));\r\n  // Deep copy\r\n  if (copy.compound) {\r\n    if (Array.isArray(copy.elts)) {\r\n      copy.elts = copy.elts.map((elt) => {\r\n        return clone(elt, idx);\r\n      });\r\n    }\r\n  }\r\n\r\n  if (copy._start !== null) {\r\n    copy._start = clone(copy._start, idx);\r\n  }\r\n  if (copy._finish !== null) {\r\n    copy._finish = clone(copy._finish, idx);\r\n  }\r\n\r\n  return resetIds(copy, idx);\r\n}","import {\r\n  idGenFn\r\n} from './util.js';\r\n\r\nimport {\r\n  jsonToDslObject, group\r\n} from '@imaguiraga/topology-dsl-core';\r\n\r\nconst SEQUENCE = 'sequence';\r\nconst OPTIONAL = 'optional';\r\nconst REPEAT = 'repeat';\r\nconst START = 'start';\r\nconst FINISH = 'finish';\r\nconst PORT = 'port';\r\nconst EDGE = 'edge';\r\n\r\nconst GROUP = 'group';\r\nconst RESOURCE = 'resource';\r\nexport class DslToELKGenerator {\r\n  constructor() {\r\n    this.edgeCntIt = idGenFn(`${EDGE}.`, 0);\r\n  }\r\n\r\n  toElkGraph(tree, filterFn) {\r\n    return {\r\n      id: '$root',\r\n      layoutOptions: {\r\n        'algorithm': 'layered',\r\n        'elk.hierarchyHandling': 'SEPARATE_CHILDREN',\r\n      },\r\n      children: [\r\n        this.visit(group(tree), filterFn)\r\n      ]\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Convert a dsl tree to ELK Graph.\r\n   * @param {object} tree - The dsl tree.\r\n   * @param {function} filterFn - The dsl filterFn function.\r\n   * @return {object} ELK graph.\r\n   */\r\n  visit(_tree, filterFn) {\r\n    if (_tree === undefined || _tree === null) {\r\n      return null;\r\n    }\r\n    let tree = _tree;\r\n    // Add start finish properties if missing\r\n    tree = jsonToDslObject(tree);\r\n\r\n    let result = null;\r\n    if (tree === undefined || tree === null) {\r\n      return result;\r\n    }\r\n    if (tree.compound) {\r\n      switch (tree.kind) {\r\n        case GROUP:\r\n          result = GroupEltDslToELKGenerator.instance.visitGroup(this, tree, filterFn, tree.kind);\r\n          break;\r\n        case OPTIONAL:\r\n          result = OptionalEltDslToELKGenerator.instance.visitOptional(this, tree, filterFn);\r\n          break;\r\n        case SEQUENCE:\r\n          result = SequenceEltDslToELKGenerator.instance.visitSequence(this, tree, filterFn);\r\n          break;\r\n        case REPEAT:\r\n          result = RepeatEltDslToELKGenerator.instance.visitRepeat(this, tree, filterFn);\r\n          break;\r\n        case RESOURCE:\r\n          result = TerminalFlowEltDslToELKGenerator.instance.visitTerminal(this, tree, filterFn);\r\n          break;\r\n        default:\r\n          console.error('==> WARNING: ' + tree.kind + ' type was not found');\r\n          break;\r\n      }\r\n\r\n    } else {\r\n      result = TerminalFlowEltDslToELKGenerator.instance.visitTerminal(this, tree, filterFn);\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  getNodeModel(n) {\r\n    let r = {\r\n      id: n.id,\r\n      label: n.title,\r\n      model: {\r\n        kind: n.kind,\r\n        title: n.title,\r\n        direction: n.direction,\r\n        tagName: n.tagName,\r\n        id: n.id,\r\n        provider: n.provider,\r\n        compound: n.compound,\r\n        data: n.data\r\n      },\r\n      // use label for container elt\r\n      labels: n.isTerminal() ? [] : [\r\n        {\r\n          text: n.title || n.id,\r\n          properties: {\r\n            'nodeLabels.placement': '[V_TOP, H_LEFT, OUTSIDE]'\r\n            // 'nodeLabels.placement': '[V_TOP, H_LEFT, INSIDE]',\r\n          }\r\n        }\r\n      ]\r\n    };\r\n    // Layout direction\r\n    if (n.direction !== null) {\r\n      r.layoutOptions = {\r\n        'org.eclipse.elk.direction': n.direction\r\n      };\r\n    }\r\n    return r;\r\n  }\r\n\r\n  getPortModel(n) {\r\n    let r = {\r\n      id: n.id,\r\n      label: n.id,\r\n      model: {\r\n        kind: PORT,\r\n        tagName: PORT,\r\n        compound: false,\r\n        provider: 'custom',\r\n        id: n.id,\r\n        data: n.data\r\n      },\r\n      // use label for container elt\r\n      labels: n.isTerminal() ? [] : [\r\n        {\r\n          text: n.title || n.id\r\n        }\r\n      ]\r\n    };\r\n    return r;\r\n  }\r\n\r\n  getSynthPortModel(n, tagName = PORT) {\r\n    let r = this.getPortModel(n);\r\n    r.model.tagName = tagName;\r\n    r.id = r.id + `.${PORT}`;\r\n    r.model.id = r.id;\r\n    r.model.compound = false;\r\n    return r;\r\n  }\r\n\r\n  getEdgeModel(n) {\r\n    let r = {\r\n      model: {\r\n        provider: n.provider,\r\n        tagName: EDGE,\r\n        kind: EDGE\r\n      },\r\n      style: {\r\n        startArrow: false,\r\n        endArrow: true,\r\n      }\r\n    };\r\n    return r;\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Class TerminalFlowEltDslToELKGenerator.\r\n */\r\nclass TerminalFlowEltDslToELKGenerator {\r\n  static instance = new TerminalFlowEltDslToELKGenerator();\r\n\r\n  /**\r\n   * Convert a dsl tree to ctree Graph graph.\r\n   * @param {object} visitor - The dsl tree visitor.\r\n   * @param {object} tree - The dsl tree.\r\n   * @param {function} filterFn - The dsl filterFn function.\r\n   * @return {object} ctree Graph graph.\r\n   */\r\n  visitTerminal(visitor, tree, filterFn) {\r\n    const parent = visitor.getNodeModel(tree);\r\n    const graph = {\r\n      ...parent,\r\n      ports: [],\r\n      children: [],\r\n      edges: []\r\n    };\r\n    // start + finish nodes\r\n    graph.ports.push(visitor.getPortModel(tree.start));\r\n    graph.ports.push(visitor.getPortModel(tree.finish));\r\n\r\n    // Check if the only element is not a string \r\n    if (typeof tree.elts[0] === 'object') {\r\n      let n = visitor.getNodeModel(tree);\r\n      n.parent = parent;\r\n      if (filterFn) {\r\n        if (!filterFn(n)) {\r\n          graph.children.push(n);\r\n        }\r\n      } else {\r\n        graph.children.push(n);\r\n      }\r\n    }\r\n    return graph;\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Class GroupEltDslToELKGenerator.\r\n */\r\nclass GroupEltDslToELKGenerator {\r\n  static instance = new GroupEltDslToELKGenerator();\r\n  /**\r\n   * Convert a dsl tree to ctree Graph graph.\r\n   * @param {object} visitor - The dsl tree visitor.\r\n   * @param {object} tree - The dsl tree.\r\n   * @param {function} filterFn - The dsl filterFn function.\r\n   * @return {object} ctree Graph graph.\r\n   */\r\n  visitGroup(visitor, tree, filterFn, type) {\r\n    //const type = 'choice' | 'parallel';\r\n    const parent = visitor.getNodeModel(tree);\r\n    const graph = {\r\n      ...parent,\r\n      ports: [],\r\n      children: [],\r\n      edges: []\r\n    };\r\n    //\r\n    if (tree.kind !== type) {\r\n      return graph;\r\n    }\r\n    // start + finish nodes\r\n    graph.ports.push(visitor.getPortModel(tree.start));\r\n    graph.ports.push(visitor.getPortModel(tree.finish));\r\n\r\n    this.buildEdges(tree, graph, visitor, type);\r\n\r\n    // concatenate graphs\r\n    // nodes\r\n    const self = this;\r\n    this.buildNodes(tree.elts, tree, graph, visitor, parent, filterFn);\r\n\r\n    return graph;\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n  buildEdges(tree, graph, visitor, type) {\r\n    //NOOP\r\n  }\r\n\r\n  buildNodes(elts, tree, graph, visitor, parent, filterFn) {\r\n    if (elts === undefined || elts === null || (Array.isArray(elts) && elts.length === 0)) {\r\n      return;\r\n    }\r\n    const self = this;\r\n    let _elts = Array.isArray(elts) ? elts : [elts];\r\n    _elts.forEach(elt => {\r\n      let arr = [];\r\n      if (Array.isArray(elt)) {\r\n        arr = elt;\r\n      } else {\r\n        arr.push(elt);\r\n      }\r\n\r\n      // From\r\n      if (elt.eltsFrom !== undefined && elt.eltsFrom.length > 0) {\r\n        this.buildNodes(elt.eltsFrom, tree, graph, visitor, parent, filterFn);\r\n        let sources = this.getFinish(elt.eltsFrom);\r\n        let targets = this.getStart(elt);\r\n\r\n        this.buildLinks(sources, targets, graph, tree, visitor);\r\n      }\r\n\r\n      arr.forEach((a) => {\r\n        if (Array.isArray(a)) {\r\n          this.buildNodes(a, tree, graph, visitor, parent, filterFn);\r\n        } else if (typeof a === 'object') {\r\n          let ctree = a.accept === undefined ? a : a.accept(visitor, n => tree.foundElt(n));\r\n          if (ctree !== null) {\r\n            ctree.parent = parent;\r\n            if (filterFn) {\r\n              if (!filterFn(ctree)) {\r\n                graph.children.push(ctree);\r\n              }\r\n            } else {\r\n              graph.children.push(ctree);\r\n            }\r\n          }\r\n        }\r\n\r\n      }, self);\r\n\r\n      // To\r\n      if (elt.eltsTo !== undefined && elt.eltsTo.length > 0) {\r\n        this.buildNodes(elt.eltsTo, tree, graph, visitor, parent, filterFn);\r\n        let sources = this.getFinish(elt);\r\n        let targets = this.getStart(elt.eltsTo);\r\n\r\n        this.buildLinks(sources, targets, graph, tree, visitor);\r\n      }\r\n    }, self);\r\n  }\r\n\r\n  getStart(elts) {\r\n    let result = [];\r\n    if (Array.isArray(elts)) {\r\n      result = elts.map((elt) => {\r\n        if (Array.isArray(elt)) {\r\n          return this.getStart(elt);\r\n        } else {\r\n          return elt.start.id;\r\n        }\r\n      }, this);\r\n    } else {\r\n      result = [elts.start.id];\r\n    }\r\n    return result;\r\n  }\r\n\r\n  getFinish(elts) {\r\n    let result = [];\r\n    if (Array.isArray(elts)) {\r\n      result = elts.map((elt) => {\r\n        if (Array.isArray(elt)) {\r\n          return this.getFinish(elt);\r\n        } else {\r\n          return elt.finish.id;\r\n        }\r\n      }, this);\r\n\r\n    } else {\r\n      result = [elts.finish.id];\r\n    }\r\n    return result;\r\n  }\r\n\r\n  toArray(elts) {\r\n    let result = [];\r\n    if (Array.isArray(elts)) {\r\n      elts.forEach((elt) => {\r\n        result.push(...this.toArray(elt));\r\n      }, this);\r\n\r\n    } else {\r\n      result.push(elts);\r\n    }\r\n    return result;\r\n\r\n  }\r\n\r\n  buildLinks(_sources_, _targets_, graph, tree, visitor) {\r\n    // Skip if sources and targets are undefined \r\n    if (_sources_ === undefined || _sources_ === null\r\n      || _targets_ === undefined || _targets_ === null) {\r\n      return;\r\n    }\r\n    // Expand in case the element is an array\r\n    let sources = this.toArray(_sources_);\r\n    let targets = this.toArray(_targets_);\r\n\r\n    if (sources.length === 1 && targets.length === 1) {\r\n      // 1 -> 1\r\n      graph.edges.push({\r\n        id: `${visitor.edgeCntIt.next().value}`,\r\n        sources: sources,\r\n        targets: targets,\r\n        ...visitor.getEdgeModel(tree),\r\n      });\r\n\r\n    } else if (sources.length === 1 && targets.length > 1) {\r\n      // 1 -> n\r\n      targets.forEach((t) => {\r\n        graph.edges.push({\r\n          id: `${visitor.edgeCntIt.next().value}`,\r\n          sources: sources,\r\n          targets: [t],\r\n          ...visitor.getEdgeModel(tree),\r\n        });\r\n      }, this);\r\n\r\n    } else if (sources.length > 1 && targets.length === 1) {\r\n      // n -> 1\r\n      sources.forEach((s) => {\r\n        graph.edges.push({\r\n          id: `${visitor.edgeCntIt.next().value}`,\r\n          sources: [s],\r\n          targets: targets,\r\n          ...visitor.getEdgeModel(tree),\r\n        });\r\n      }, this);\r\n\r\n    } else if (sources.length > 1 && targets.length > 1) {\r\n      // n -> n => n -> 1 -> n\r\n      // add synthetic link clone\r\n      const link = visitor.getSynthPortModel(tree.start, START);\r\n      link.id = `${visitor.edgeCntIt.next().value}.link`;\r\n      // link.model.tagName = 'mark';\r\n      graph.children.push(link);\r\n      let links = [link.id];\r\n\r\n      // n -> 1\r\n      this.buildLinks(sources, links, graph, tree, visitor);\r\n      // 1 -> n\r\n      this.buildLinks(links, targets, graph, tree, visitor);\r\n\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Class SequenceEltDslToELKGenerator.\r\n */\r\nclass SequenceEltDslToELKGenerator extends GroupEltDslToELKGenerator {\r\n  static instance = new SequenceEltDslToELKGenerator();\r\n  /**\r\n   * Convert a dsl tree to ctree Graph graph.\r\n   * @param {object} visitor - The dsl tree visitor.\r\n   * @param {object} tree - The dsl tree.\r\n   * @param {function} filterFn - The dsl filterFn function.\r\n   * @return {object} ctree Graph graph.\r\n   */\r\n  visitSequence(visitor, tree, filterFn) {\r\n    return this.visitGroup(visitor, tree, filterFn, SEQUENCE);\r\n  }\r\n\r\n  buildEdges(tree, graph, visitor, type) {\r\n    if (type !== SEQUENCE) {\r\n      return;\r\n    }\r\n\r\n    const start = !tree.nostart ? visitor.getSynthPortModel(tree.start, START) : null;\r\n    if (start !== null) {\r\n      graph.children.push(start);\r\n    }\r\n    const finish = !tree.noend ? visitor.getSynthPortModel(tree.finish, FINISH) : null;\r\n    if (finish !== null) {\r\n      graph.children.push(finish);\r\n    }\r\n\r\n    // edges\r\n\r\n    // start -> elts\r\n    let sources = start !== null ? [start.id] : null;\r\n    let targets = this.getStart(tree.elts[0]);\r\n\r\n    this.buildLinks(sources, targets, graph, tree, visitor);\r\n\r\n    // elts -> elts\r\n    for (let i = 0; i < tree.elts.length - 1; i++) {\r\n      sources = this.getFinish(tree.elts[i]);\r\n      targets = this.getStart(tree.elts[i + 1]);\r\n\r\n      this.buildLinks(sources, targets, graph, tree, visitor);\r\n\r\n    }\r\n\r\n    // elts -> finish\r\n    sources = this.getFinish(tree.elts[tree.elts.length - 1]);\r\n    targets = finish !== null ? [finish.id] : null;\r\n\r\n    this.buildLinks(sources, targets, graph, tree, visitor);\r\n\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Class OptionalEltDslToELKGenerator.\r\n */\r\nclass OptionalEltDslToELKGenerator extends GroupEltDslToELKGenerator {\r\n  static instance = new OptionalEltDslToELKGenerator();\r\n  /**\r\n   * Convert a dsl tree to ctree Graph graph.\r\n   * @param {object} visitor - The dsl tree visitor.\r\n   * @param {object} tree - The dsl tree.\r\n   * @param {function} filterFn - The dsl filterFn function.\r\n   * @return {object} ctree Graph graph.\r\n   */\r\n  visitOptional(visitor, tree, filterFn) {\r\n    return this.visitGroup(visitor, tree, filterFn, OPTIONAL);\r\n  }\r\n\r\n  buildEdges(tree, graph, visitor, type) {\r\n    if (type !== OPTIONAL) {\r\n      return;\r\n    }\r\n\r\n    const start = visitor.getSynthPortModel(tree.start, START);\r\n    graph.children.push(start);\r\n    const finish = visitor.getSynthPortModel(tree.finish, FINISH);\r\n    graph.children.push(finish);\r\n\r\n    if (tree.elts.length > 0) {\r\n      // start -> elts\r\n      let sources = [start.id];\r\n      let targets = this.getStart(tree.elts[0]);\r\n\r\n      this.buildLinks(sources, targets, graph, tree, visitor);\r\n\r\n      // start -> finish\r\n      sources = [start.id];\r\n      targets = [finish.id];\r\n\r\n      this.buildLinks(sources, targets, graph, tree, visitor);\r\n\r\n      // elts -> finish\r\n      sources = this.getFinish(tree.elts);\r\n      targets = [finish.id];\r\n\r\n      this.buildLinks(sources, targets, graph, tree, visitor);\r\n\r\n    }\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * Class RepeatEltDslToELKGenerator.\r\n */\r\nclass RepeatEltDslToELKGenerator extends GroupEltDslToELKGenerator {\r\n  static instance = new RepeatEltDslToELKGenerator();\r\n\r\n  /**\r\n   * Convert a dsl tree to ctree Graph graph.\r\n   * @param {object} visitor - The dsl tree visitor.\r\n   * @param {object} tree - The dsl tree.\r\n   * @param {function} filterFn - The dsl filterFn function.\r\n   * @return {object} ctree Graph graph.\r\n   */\r\n  visitRepeat(visitor, tree, filterFn) {\r\n    return this.visitGroup(visitor, tree, filterFn, REPEAT);\r\n  }\r\n\r\n  buildEdges(tree, graph, visitor, type) {\r\n    if (type !== REPEAT) {\r\n      return;\r\n    }\r\n\r\n    const start = visitor.getSynthPortModel(tree.start, START);\r\n    graph.children.push(start);\r\n    const finish = visitor.getSynthPortModel(tree.finish, FINISH);\r\n    graph.children.push(finish);\r\n\r\n    // edges\r\n    if (tree.elts.length > 0) {\r\n\r\n      // start -> elts\r\n      let sources = [start.id];\r\n      let targets = this.getStart(tree.elts);\r\n\r\n      this.buildLinks(sources, targets, graph, tree, visitor);\r\n\r\n      // elts -> finish\r\n      sources = this.getFinish(tree.elts);\r\n      targets = [finish.id];\r\n\r\n      this.buildLinks(sources, targets, graph, tree, visitor);\r\n\r\n      // elts -> elts\r\n      sources = this.getFinish(tree.elts);\r\n      targets = [tree.elts[0].id];\r\n      // targets = this.getStart(tree.elts);\r\n\r\n      this.buildLinks(sources, targets, graph, tree, visitor);\r\n\r\n    }\r\n\r\n  }\r\n}\r\n","import {\r\n  isContainer\r\n} from '@imaguiraga/topology-dsl-core';\r\n\r\nconst UNIT = 8;\r\nexport class ELKDimensionVisitor {\r\n  constructor(\r\n    nodeWidth = (6 * UNIT),\r\n    nodeHeight = (4 * UNIT),\r\n    iconWidth = (2 * UNIT),\r\n    portSize = UNIT,\r\n    labelHeight = (2 * UNIT)\r\n  ) {\r\n    this._nodeWidth = nodeWidth;\r\n    this._nodeHeight = nodeHeight;\r\n    this._iconWidth = iconWidth;\r\n    this._portSize = portSize;\r\n    this._labelHeight = labelHeight;\r\n  }\r\n\r\n  nodeWidth(value) {\r\n    if (value !== undefined & value !== null) {\r\n      this._nodeWidth = value;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  nodeHeight(value) {\r\n    if (value !== undefined & value !== null) {\r\n      this._nodeHeight = value;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  labelHeight(value) {\r\n    if (value !== undefined & value !== null) {\r\n      this._labelHeight = value;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  iconWidth(value) {\r\n    if (value !== undefined & value !== null) {\r\n      this._iconWidth = value;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  portSize(value) {\r\n    if (value !== undefined & value !== null) {\r\n      this._portSize = value;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  visit(root) {\r\n    const stack = [root];\r\n    // FIFO\r\n    let i = 0;\r\n    while (i < stack.length) {\r\n      let tree = stack[i]; i++;\r\n      // Reset dimensions\r\n      if (tree === undefined || tree === null) {\r\n        return null;\r\n      }\r\n      if (tree.width !== undefined) {\r\n        delete tree.width;\r\n      }\r\n      if (tree.height !== undefined) {\r\n        delete tree.height;\r\n      }\r\n      if (tree.x !== undefined) {\r\n        delete tree.x;\r\n      }\r\n      if (tree.y !== undefined) {\r\n        delete tree.y;\r\n      }\r\n\r\n      // Set Node dimensions\r\n      if (isContainer(tree)) {\r\n        // Set node properties\r\n        tree.properties = {\r\n          'nodeLabels.placement': '[H_LEFT, V_TOP, INSIDE]'\r\n        };\r\n\r\n      } else {\r\n        // Terminal Nodes dimensions\r\n        const tagName = tree.model.tagName;\r\n        const style = (tree.model.data !== undefined) ? tree.model.data.style : null;\r\n        if (tagName === 'port' || tagName === 'start' || tagName === 'finish') {\r\n          tree.width = 1 * this._portSize;\r\n          tree.height = tree.width;\r\n\r\n        } else if (tagName === 'mark') {\r\n          tree.width = 0;// 2 * this._portSize;\r\n          tree.height = tree.width;\r\n\r\n        } else {\r\n          tree.width = 2 * this._nodeWidth;\r\n          tree.height = this._nodeHeight;\r\n          // Nodes with no style \r\n          if (style === undefined || style === null) {\r\n            let len = tree.model.title.length;\r\n            // Pt to Px 4/3\r\n            let w = Math.floor((len * UNIT * 2) / 3 + 6 * UNIT);\r\n            tree.width = w;\r\n            // How many lines\r\n            let nl = tree.model.title.split('\\n').length;\r\n            let h = Math.floor(nl * UNIT * 4 / 3) + 4 * UNIT;\r\n            tree.height = h;\r\n\r\n          }\r\n        }\r\n      }\r\n\r\n      // Set port dimensions\r\n      if (Array.isArray(tree.ports)) {\r\n        tree.ports.forEach((p) => {\r\n          p.width = 0;// this._portSize;\r\n          p.height = p.width;\r\n        }, this);\r\n\r\n      }\r\n\r\n      // Set label dimensions\r\n      if (Array.isArray(tree.labels)) {\r\n        tree.labels.forEach((l) => {\r\n          l.height = 2 * this._labelHeight;\r\n          //l.width = 3 * this._nodeWidth;\r\n        }, this);\r\n      }\r\n\r\n      if (Array.isArray(tree.children)) {\r\n        tree.children.forEach((n) => {\r\n          //this.visit(n);\r\n          stack.push(n);\r\n        }, this);\r\n      }\r\n    }\r\n    return root;\r\n  }\r\n\r\n}","//const ELK = require('elkjs');\r\nimport ELK from 'elkjs/lib/elk.bundled.js';\r\n\r\nimport {\r\n  DslToELKGenerator,\r\n  ELKDimensionVisitor\r\n} from '../visitor/index.js';\r\n\r\nconst elkGenerator = new DslToELKGenerator();\r\nconst UNIT = 8;\r\n\r\nexport function toElkGraph(dslObject) {\r\n  let elkgraph = null;\r\n  try {\r\n    // dslObject to elkgraph\r\n    elkgraph = elkGenerator.toElkGraph(dslObject);\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n  return elkgraph;\r\n}\r\n\r\nexport function elkLayout() {\r\n  const elkDimensionVisitor = new ELKDimensionVisitor();\r\n  const elk = new ELK();\r\n  let options = {\r\n    'algorithm': 'layered',\r\n    //'hierarchyHandling': 'SEPARATE_CHILDREN',\r\n    'nodePlacement.strategy': 'SIMPLE',//'NETWORK_SIMPLEX', //'BRANDES_KOEPF'\r\n    'org.eclipse.elk.direction': 'RIGHT',\r\n    'port.borderOffset': UNIT / 4,\r\n    'padding': 2 * UNIT,\r\n    'edgeRouting': 'ORTHOGONAL',\r\n    'layered.mergeEdges': true,\r\n    'zoomToFit': true,\r\n    'spacing': 4 * UNIT,\r\n    'spacing.nodeNodeBetweenLayers': 4 * UNIT,\r\n    'spacing.edgeNodeBetweenLayers': 4 * UNIT,\r\n    'spacing.edgeEdgeBetweenLayers': 4 * UNIT,\r\n    //'layering.strategy': 'LONGEST_PATH', 'NETWORK_SIMPLEX'\r\n    'layering.strategy': 'COFFMAN_GRAHAM ',\r\n    'org.eclipse.elk.spacing.nodeSelfLoop': 3 * UNIT,\r\n    'spacing.labelNode': UNIT\r\n  };\r\n  //https://www.eclipse.org/elk/reference/options/org-eclipse-elk-layered-layering-strategy.html\r\n  //https://www.eclipse.org/elk/reference/options/org-eclipse-elk-layered-nodeplacement-strategy.html\r\n  function layoutFn(inelkgraph) {\r\n    if (inelkgraph === null) {\r\n      return Promise.resolve(null);\r\n    }\r\n    // Add node width.height\r\n    let elkgraph = elkDimensionVisitor.visit(inelkgraph);\r\n    if (elkgraph === null) {\r\n      return Promise.resolve(null);\r\n    }\r\n    // console.log(JSON.stringify(elkgraph, null, '  '));\r\n\r\n    elk.knownLayoutOptions().then((d) => {\r\n      //console.log(d);\r\n    });\r\n    // start the layout\r\n    let elkpromise = elk.layout(elkgraph, {\r\n      layoutOptions: options,\r\n      logging: false,\r\n      measureExecutionTime: false\r\n    }).then((elkLayoutRelative) => {\r\n      const elkLayoutAbsolute = toAbsoluteElkLayout(elkLayoutRelative);\r\n      //console.log(elkLayoutAbsolute);\r\n      return elkLayoutAbsolute;\r\n    });\r\n\r\n    return elkpromise;\r\n  }\r\n\r\n  layoutFn.nodeHeight = function (newSize) {\r\n    if (!arguments.length) return elkDimensionVisitor._nodeHeight;\r\n    elkDimensionVisitor.nodeHeight(newSize);\r\n    return this;\r\n  };\r\n\r\n  layoutFn.nodeWidth = function (newSize) {\r\n    if (!arguments.length) return elkDimensionVisitor._nodeWidth;\r\n    elkDimensionVisitor.nodeWidth(newSize);\r\n    return this;\r\n  };\r\n\r\n  layoutFn.nodeSize = function (width, height) {\r\n    if (!arguments.length) return [elkDimensionVisitor._nodeWidth, elkDimensionVisitor._nodeHeight];\r\n\r\n    elkDimensionVisitor.nodeWidth(width);\r\n    elkDimensionVisitor.nodeHeight(height || width);\r\n\r\n    return this;\r\n  };\r\n\r\n  layoutFn.portSize = function (newSize) {\r\n    if (!arguments.length) return elkDimensionVisitor._portSize;\r\n    elkDimensionVisitor.portSize(newSize);\r\n    return this;\r\n  };\r\n\r\n  layoutFn.options = function (newOptions) {\r\n    if (!arguments.length) {\r\n      return options;\r\n    }\r\n    options = newOptions;\r\n    return this;\r\n  };\r\n\r\n  return layoutFn;\r\n}\r\n\r\nexport function toAbsoluteElkLayout(elkLayout) {\r\n  return toAbsoluteElkLayoutIt(elkLayout);\r\n}\r\n\r\nfunction toAbsoluteElkLayoutRec(elkNode, x0 = 0, y0 = 0) {\r\n  // Clone node \r\n  const n = elkNode;\r\n  // absolute coordinate\r\n  n.ax = n.x + x0;\r\n  n.ay = n.y + y0;\r\n\r\n  (n.labels || []).forEach((l) => {\r\n    // absolute coordinate\r\n    l.ax = l.x + x0;\r\n    l.ay = l.y + y0;\r\n  });\r\n\r\n  (elkNode.edges || []).forEach((e) => {\r\n    const t = e;\r\n    // absolute coordinate\r\n    t.source = e.sources[0];\r\n    t.target = e.targets[0];\r\n\r\n    // Update sections\r\n    (t.sections || []).forEach((s) => {\r\n      // junctionPoints\r\n      (s.junctionPoints || []).forEach((j) => {\r\n        j.ax = j.x + n.ax;\r\n        j.ay = j.y + n.ay;\r\n      });\r\n\r\n      // startPoint\r\n      s.startPoint.ax = s.startPoint.x + n.ax;\r\n      s.startPoint.ay = s.startPoint.y + n.ay;\r\n      // endPoint\r\n      s.endPoint.ax = s.endPoint.x + n.ax;\r\n      s.endPoint.ay = s.endPoint.y + n.ay;\r\n      // bendPoints\r\n      (s.bendPoints || []).forEach((b) => {\r\n        b.ax = b.x + n.ax;\r\n        b.ay = b.y + n.ay;\r\n      });\r\n    });\r\n\r\n  });\r\n\r\n  (elkNode.ports || []).forEach((p) => {\r\n    // absolute coordinate\r\n    p.ax = p.x + n.ax;\r\n    p.ay = p.y + n.ay;\r\n  });\r\n\r\n  (elkNode.children || []).forEach((c) => {\r\n    toAbsoluteElkLayoutRec(c, n.ax, n.ay);\r\n  });\r\n\r\n  return n;\r\n  //*/\r\n}\r\n\r\nexport function buildNodeLookup(elkNode) {\r\n  const index = new Map();\r\n\r\n  const stack = [elkNode];\r\n  // FIFO\r\n  let i = 0;\r\n  while (i < stack.length) {\r\n    //let n = stack.pop();\r\n    let n = stack[i];\r\n    i++;\r\n    index.set(n.id, n);\r\n\r\n    (n.ports || []).forEach((p) => {\r\n      stack.push(p);\r\n    });\r\n\r\n    (n.children || []).forEach((c) => {\r\n      stack.push(c);\r\n    });\r\n  }\r\n  return index;\r\n}\r\n\r\nfunction toAbsoluteElkLayoutIt(elkNode) {\r\n  // absolute coordinate\r\n  elkNode.ax = elkNode.x;\r\n  elkNode.ay = elkNode.y;\r\n  const stack = [elkNode];\r\n\r\n  let i = 0;\r\n  // FIFO\r\n  while (i < stack.length) {\r\n    let n = stack[i];\r\n    i++;\r\n    (n.labels || []).forEach((l) => {\r\n      // absolute coordinate\r\n      l.ax = l.x + n.ax;\r\n      l.ay = l.y + n.ay;\r\n    });\r\n\r\n    (n.edges || []).forEach((e) => {\r\n      const t = e;\r\n      // absolute coordinate\r\n      t.source = e.sources[0];\r\n      t.target = e.targets[0];\r\n\r\n      // Update sections\r\n      (t.sections || []).forEach((s) => {\r\n        // junctionPoints\r\n        (s.junctionPoints || []).forEach((j) => {\r\n          j.ax = j.x + n.ax;\r\n          j.ay = j.y + n.ay;\r\n        });\r\n\r\n        // startPoint\r\n        s.startPoint.ax = s.startPoint.x + n.ax;\r\n        s.startPoint.ay = s.startPoint.y + n.ay;\r\n        // endPoint\r\n        s.endPoint.ax = s.endPoint.x + n.ax;\r\n        s.endPoint.ay = s.endPoint.y + n.ay;\r\n        // bendPoints\r\n        (s.bendPoints || []).forEach((b) => {\r\n          b.ax = b.x + n.ax;\r\n          b.ay = b.y + n.ay;\r\n        });\r\n      });\r\n\r\n    });\r\n\r\n    (n.ports || []).forEach((p) => {\r\n      // absolute coordinate\r\n      p.ax = p.x + n.ax;\r\n      p.ay = p.y + n.ay;\r\n    });\r\n\r\n    (n.children || []).forEach((c) => {\r\n      c.ax = c.x + n.ax;\r\n      c.ay = c.y + n.ay;\r\n      stack.push(c);\r\n    });\r\n  }\r\n  return elkNode;\r\n}","import './style/x6-elk-style.css';\r\n\r\nimport { Graph, Shape, Point, Node, Edge } from '@antv/x6';\r\nimport { elkLayout, buildNodeLookup } from './elk-layout-factory';\r\n\r\nfunction lineRouter(vertices/*: Point.PointLike[]*/, args/*: RandomRouterArgs*/, view/*: EdgeView*/) {\r\n  const points = vertices.map((p) => Point.create(p));\r\n  return points;\r\n}\r\nconst LINE = 'line';\r\nconst DEBUG = false;\r\n\r\nGraph.registerRouter(LINE, lineRouter);\r\n\r\nconst UNIT = 8;\r\nconst EMPTY_ARRAY = [];\r\nexport function createElkX6Renderer(_container_, _minimap_, _width_, _height_, _iconWidth_) {\r\n\r\n  let containerElt = (typeof _container_ === 'string') ? document.getElementById(_container_) : _container_;\r\n\r\n  const width = (_width_ || containerElt.scrollWidth || 800);\r\n  const height = (_height_ || containerElt.scrollHeight || 800);\r\n\r\n  const x6Graph = createX6Graph(containerElt, _minimap_, width, height);\r\n  const toElkLayout = elkLayout();\r\n  toElkLayout.nodeSize(10 * UNIT).portSize(UNIT);\r\n\r\n  function render(elkgraph) {\r\n    if (elkgraph === null || elkgraph === undefined) {\r\n      return Promise.resolve(null);\r\n    }\r\n\r\n    const lookup = buildNodeLookup(elkgraph);\r\n\r\n    function refreshLayoutFn(_elkgraph_) {\r\n      return toElkLayout(_elkgraph_).then((elkLayout) => {\r\n        // Clear and redraw\r\n        // reset diagram\r\n        if (DEBUG) {\r\n          console.log(JSON.stringify(elkLayout, null, ' '));\r\n        }\r\n        const x6Layout = toX6Layout(elkLayout);\r\n        if (DEBUG) {\r\n          console.log(x6Layout);\r\n          console.log(JSON.stringify(x6Layout, null, ' '));\r\n        }\r\n        const start = new Date().getTime()\r\n        x6Graph.fromJSON(x6Layout);\r\n        x6Graph.unfreeze({\r\n          progress({ done }) {\r\n            if (done) {\r\n              const time = new Date().getTime() - start;\r\n              console.log(time)\r\n              x6Graph.unfreeze({\r\n                batchSize: 50,\r\n              })\r\n              x6Graph.zoomToFit({ padding: 8 })\r\n            }\r\n          },\r\n        })\r\n        return x6Graph;\r\n      }).catch((e) => {\r\n        console.log(e);\r\n      });\r\n    }\r\n\r\n    const toggleCollapseNode = function (d) {\r\n      if (d === undefined || d === null) {\r\n        return;\r\n      }\r\n      // is expanded\r\n      if (d.model.compound || d.collapsed === true) {\r\n        if (d.collapsed !== true) {\r\n          // Remove children and edges \r\n          d._children = d.children;\r\n          d.children = EMPTY_ARRAY;\r\n\r\n          d._edges = d.edges;\r\n          d.edges = null;\r\n          d.model.compound = false;\r\n          d.collapsed = true;\r\n\r\n        } else {\r\n          // Restore children and edges\r\n          d.children = d._children;\r\n          d._children = null;\r\n\r\n          d.edges = d._edges;\r\n          d._edges = null;\r\n          d.model.compound = true;\r\n          d.collapsed = false;\r\n        }\r\n\r\n        refreshLayoutFn(elkgraph);\r\n      }\r\n    };\r\n\r\n    x6Graph.on('node:dblclick', ({ e, x, y, node, view }) => {\r\n      if (DEBUG) {\r\n        console.log(node);\r\n      }\r\n      const elkLayoutNode = lookup.get(node.id);\r\n      toggleCollapseNode(elkLayoutNode);\r\n    });\r\n\r\n    //*/\r\n    return refreshLayoutFn(elkgraph);\r\n  }\r\n\r\n  return {\r\n    render,\r\n    graph: x6Graph\r\n  };\r\n}\r\n\r\nexport function toX6Layout(elkLayoutNode) {\r\n  return toX6LayoutRec(elkLayoutNode);\r\n}\r\n\r\nconst RESOURCE_HTML = {\r\n  render(node) { //: Cell\r\n    const model = node.getData(); //as any\r\n    const style = model.data.style;// IconPath\r\n\r\n    const wrap = document.createElement('div');\r\n    wrap.style.display = 'flex';\r\n\r\n    let iconPath = (style !== undefined && style !== null) ? encodeURI(style.iconURL) : null;\r\n    // If icon exists\r\n    if (iconPath !== undefined && iconPath !== null) {\r\n      const img = document.createElement('img');\r\n\r\n      img.src = iconPath;\r\n      img.width = (model.compound === undefined || model.compound === true ? model.height : model.height / 2) - UNIT;\r\n      img.height = img.width;\r\n      wrap.appendChild(img);\r\n    }\r\n\r\n    const textdiv = document.createElement('div');\r\n    textdiv.style.padding = UNIT / 2;\r\n    textdiv.style.display = 'inline-block';\r\n    textdiv.style.margin = 'auto';\r\n\r\n    textdiv.innerHTML =\r\n      (style && style.product ? `<div><code>${style.product}</code></div>` : '') +\r\n      `<div><code class='resource-title'>${model !== undefined ? model.title : ''}</code></div>`\r\n      ;\r\n    wrap.appendChild(textdiv);\r\n\r\n    return wrap;\r\n  },\r\n  shouldComponentUpdate(node) { //: Cell\r\n    return node.hasChanged('data');\r\n  },\r\n};\r\n\r\nfunction toX6LayoutRec(elkLayoutNode, x6Layout = { nodes: [], edges: [] }) {\r\n  // Clone node \r\n  const n = createX6Node(elkLayoutNode, x6Layout);\r\n\r\n  const children = [];\r\n  (elkLayoutNode.children || []).forEach((c) => {\r\n    children.push(c.id);\r\n    toX6LayoutRec(c, x6Layout);\r\n  });\r\n\r\n  if (children.length > 0) {\r\n    n.children = children;\r\n  }\r\n\r\n  // Edges\r\n  (elkLayoutNode.edges || []).forEach((e) => {\r\n    const t = createX6Edge(e, x6Layout);\r\n  });\r\n  return x6Layout;\r\n}\r\n\r\nfunction createX6Node(elkLayoutNode, x6Layout) {\r\n  let model = elkLayoutNode.model || {};\r\n  const n = {\r\n    id: elkLayoutNode.id,\r\n    //label: elkLayoutNode.label,\r\n    data: {\r\n      ...model,\r\n      width: elkLayoutNode.width,\r\n      height: elkLayoutNode.height\r\n    },\r\n    x: elkLayoutNode.ax,\r\n    y: elkLayoutNode.ay,\r\n    width: elkLayoutNode.width,\r\n    height: elkLayoutNode.height,\r\n    attrs: {\r\n      body: {\r\n        class: 'node',\r\n      },\r\n      fo: {\r\n        class: 'node',\r\n      }\r\n    },\r\n  };\r\n  n.data.width = elkLayoutNode.width;\r\n  n.data.height = elkLayoutNode.height;\r\n\r\n  const clazz = ['node'];\r\n  if (elkLayoutNode.model !== undefined) {\r\n    clazz.push(elkLayoutNode.model.provider);\r\n    clazz.push(elkLayoutNode.model.kind);\r\n    clazz.push(elkLayoutNode.model.tagName);\r\n  }\r\n  n.attrs.body.class = clazz.join(' ');\r\n\r\n  // Ports\r\n  let PORT_RADIUS = 0;\r\n  const ports = (elkLayoutNode.ports || []);\r\n  const items = ports.map((p) => {\r\n    PORT_RADIUS = p.width / 2;\r\n    const r = {\r\n      group: 'abs',\r\n      id: p.id,\r\n      args: {\r\n        x: p.x + PORT_RADIUS,\r\n        y: p.y + PORT_RADIUS\r\n      },\r\n      data: p.model\r\n    };\r\n    return r;\r\n  });\r\n\r\n  if (ports.length > 0) {\r\n    n.ports = {\r\n      items: items,\r\n      groups: {\r\n        abs: {\r\n          position: {\r\n            name: 'absolute'\r\n          },\r\n          zIndex: 10,\r\n          attrs: {\r\n            circle: {\r\n              class: 'port',\r\n              r: PORT_RADIUS,\r\n              magnet: false,\r\n            },\r\n            text: {\r\n              fontSize: 0.8 * UNIT,\r\n              fill: '#444'\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  //node_modules\\@antv\\x6\\lib\\shape\\standard\\html.d.ts\r\n  // Port rendering\r\n  const children = (elkLayoutNode.children || []);\r\n  const tagName = n.data.tagName;\r\n  if (tagName === 'port' || tagName === 'start' || tagName === 'finish' || tagName === 'mark') {\r\n    n.label = null;\r\n    n.data.compound = undefined;\r\n    n.shape = 'rect';\r\n    n.attrs = {\r\n      body: {\r\n        class: n.data.tagName,\r\n      },\r\n      text: {\r\n        fontSize: 0.8 * UNIT,\r\n        fill: '#444'\r\n      }\r\n    };\r\n    // Round corners\r\n    if (tagName === 'mark') {\r\n      n.label = null;// n.data.title;\r\n      n.attrs.body.rx = 0;// UNIT / 2;\r\n      n.attrs.body.ry = 0;// UNIT / 2;\r\n    }\r\n\r\n  } else {\r\n    if (children.length === 0) {\r\n      n.label = null;\r\n      n.shape = 'html';\r\n      n.html = RESOURCE_HTML;\r\n\r\n    } else if (elkLayoutNode.labels !== undefined) {\r\n      const l = createX6Label(elkLayoutNode, x6Layout);\r\n    }\r\n  }\r\n\r\n  n.attrs.body.strokeWidth = (children.length > 0) ? '0px' : '1px';\r\n  n.attrs.body.opacity = (children.length > 0) ? 0.15 : 0.9;\r\n  x6Layout.nodes.push(n);\r\n  return n;\r\n}\r\n\r\nfunction createX6Label(elkLayoutNode, x6Layout) {\r\n  const label = elkLayoutNode.labels[0];\r\n  // Label Node\r\n  const model = elkLayoutNode.model || {};\r\n  const l = {\r\n    id: elkLayoutNode.id + '.label',\r\n    //label: elkLayoutNode.label,\r\n    data: {\r\n      ...model,\r\n      width: 30 * UNIT,//label.width,\r\n      height: label.height,\r\n    },\r\n    x: label.ax,\r\n    y: label.ay,\r\n    width: elkLayoutNode.width,// - 1.5 * UNIT,\r\n    height: label.height,\r\n    attrs: {\r\n      body: {\r\n        class: 'label',\r\n      },\r\n      fo: {\r\n        class: 'label',\r\n      }\r\n    },\r\n\r\n  };\r\n  l.data.compound = undefined;\r\n  l.label = null;\r\n  l.shape = 'html';\r\n  l.html = RESOURCE_HTML;\r\n  x6Layout.nodes.push(l);\r\n  return l;\r\n}\r\n\r\nfunction createX6Edge(e, x6Layout) {\r\n  const t = {\r\n    attrs: {\r\n      line: {\r\n        class: 'edge',\r\n        sourceMarker: {\r\n          name: e.style.startArrow ? 'classic' : null,\r\n          size: UNIT\r\n        },\r\n        targetMarker: {\r\n          name: e.style.endArrow ? 'classic' : null,\r\n          size: UNIT\r\n        },\r\n      }\r\n    }\r\n  };\r\n\r\n  t.id = e.id;\r\n  t.data = e.model;\r\n  const source = e.sources[0];\r\n  const target = e.targets[0];\r\n  const regex1 = /\\.(start|finish)/ig;\r\n  const regex2 = /\\.(start|finish)\\.port/ig;\r\n\r\n  if (source.match(regex2)) {\r\n    t.source = { cell: source };\r\n  } else {\r\n    t.source = { cell: source.replace(regex1, ''), port: source };\r\n  }\r\n\r\n  if (target.match(regex2)) {\r\n    t.target = { cell: target };\r\n  } else {\r\n    t.target = { cell: target.replace(regex1, ''), port: target };\r\n  }\r\n\r\n  if (e.sections !== undefined) {\r\n    let d = e.sections[0];\r\n\r\n    if (d.startPoint && d.endPoint) {\r\n      /*     \r\n      t.source = {\r\n        x: d.startPoint.ax,\r\n        y: d.startPoint.ay\r\n      };\r\n\r\n      t.target = {\r\n        x: d.endPoint.ax,\r\n        y: d.endPoint.ay\r\n      };\r\n      //*/\r\n    }\r\n\r\n    const vertices = [];\r\n    (d.bendPoints || []).forEach(function (bp, i) {\r\n      vertices.push({ x: bp.ax, y: bp.ay });\r\n    });\r\n\r\n    (d.junctionPoints || []).forEach(function (bp, i) {\r\n      vertices.push({ x: bp.ax, y: bp.ay });\r\n    });\r\n\r\n    if (vertices.length > 0) {\r\n      t.vertices = vertices;\r\n    }\r\n  }\r\n  x6Layout.edges.push(t);\r\n\r\n  return t;\r\n}\r\n\r\nfunction createX6Graph(containerElt, minimapContainer, width, height) {\r\n  const x6Graph = new Graph({\r\n    container: containerElt,\r\n    grid: 1,\r\n    //width: width,\r\n    //height: height,\r\n    //resizing: false,\r\n    background: {\r\n      color: '#fff',\r\n    },\r\n    interacting: false,\r\n    async: true,\r\n    frozen: true,\r\n    sorting: 'approx',\r\n    scroller: {\r\n      enabled: true,\r\n      pannable: true,\r\n      pageVisible: true,\r\n      pageBreak: true,\r\n      //  className: 'app-content-pane'\r\n    },\r\n    panning: {\r\n      enabled: true,\r\n      modifiers: 'shift',\r\n    },\r\n    mousewheel: {\r\n      enabled: true,\r\n      modifiers: ['ctrl', 'meta'],\r\n    },\r\n    connecting: {\r\n      //snap: true,\r\n      allowBlank: false,\r\n      allowLoop: false,\r\n      highlight: true,\r\n      anchor: 'orth',\r\n      connector: 'rounded',\r\n      connectionPoint: 'boundary',\r\n      router: {\r\n        // https://x6.antv.vision/en/docs/tutorial/basic/edge/#router\r\n        // node_modules\\@antv\\x6\\lib\\registry\\router\r\n        // https://x6.antv.vision/en/docs/api/registry/router#oneside\r\n        // er orth metro manhattan https://x6.antv.vision/en/examples/edge/edge#edge\r\n        name: LINE,\r\n      }\r\n    },\r\n    minimap: {\r\n      enabled: true,\r\n      container: minimapContainer,\r\n      minScale: 0.5,\r\n      maxScale: 2,\r\n      padding: UNIT / 2,\r\n      width: 200,\r\n      height: 160\r\n    },\r\n  });\r\n\r\n  x6Graph.on('cell:mouseenter', ({ e, cell, view }) => {\r\n    if (cell.isNode() && cell.getData().compound !== undefined) {\r\n      cell.addTools([\r\n        {\r\n          name: 'boundary',\r\n          args: {\r\n            padding: 0,\r\n            useCellGeometry: true,\r\n            attrs: {\r\n              fill: 'lightgrey',\r\n              stroke: 'blue',\r\n              strokeWidth: 3,\r\n              strokeDasharray: 'none',\r\n              fillOpacity: 0.45,\r\n            },\r\n          },\r\n        },\r\n      ]);\r\n    }\r\n  });\r\n\r\n  x6Graph.on('cell:mouseleave', ({ e, cell, view }) => {\r\n    cell.removeTools();\r\n  });\r\n  //*/\r\n  return x6Graph;\r\n}","export const sample = {\r\n  \"id\": \"$root\",\r\n  \"layoutOptions\": {\r\n   \"algorithm\": \"layered\",\r\n   \"elk.hierarchyHandling\": \"SEPARATE_CHILDREN\"\r\n  },\r\n  \"children\": [\r\n   {\r\n    \"id\": \"sequence.17\",\r\n    \"label\": \"sequence.17\",\r\n    \"model\": {\r\n     \"kind\": \"sequence\",\r\n     \"title\": \"sequence.17\",\r\n     \"direction\": null,\r\n     \"tagName\": \"sequence\",\r\n     \"id\": \"sequence.17\",\r\n     \"provider\": \"default\",\r\n     \"compound\": true,\r\n     \"data\": {\r\n      \"style\": {\r\n       \"className\": \"sequence\",\r\n       \"provider\": \"default\",\r\n       \"iconURL\": \"assets/icons/base/sequence-diagram-3-fill.svg\"\r\n      }\r\n     }\r\n    },\r\n    \"labels\": [\r\n     {\r\n      \"text\": \"sequence.17\",\r\n      \"properties\": {\r\n       \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n      }\r\n     }\r\n    ],\r\n    \"ports\": [\r\n     {\r\n      \"id\": \"sequence.17.start\",\r\n      \"label\": \"sequence.17.start\",\r\n      \"model\": {\r\n       \"kind\": \"port\",\r\n       \"tagName\": \"port\",\r\n       \"compound\": false,\r\n       \"provider\": \"custom\",\r\n       \"id\": \"sequence.17.start\"\r\n      },\r\n      \"labels\": []\r\n     },\r\n     {\r\n      \"id\": \"sequence.17.finish\",\r\n      \"label\": \"sequence.17.finish\",\r\n      \"model\": {\r\n       \"kind\": \"port\",\r\n       \"tagName\": \"port\",\r\n       \"compound\": false,\r\n       \"provider\": \"custom\",\r\n       \"id\": \"sequence.17.finish\"\r\n      },\r\n      \"labels\": []\r\n     }\r\n    ],\r\n    \"children\": [\r\n     {\r\n      \"id\": \"sequence.17.start.port\",\r\n      \"label\": \"sequence.17.start\",\r\n      \"model\": {\r\n       \"kind\": \"port\",\r\n       \"tagName\": \"start\",\r\n       \"compound\": false,\r\n       \"provider\": \"custom\",\r\n       \"id\": \"sequence.17.start.port\"\r\n      },\r\n      \"labels\": []\r\n     },\r\n     {\r\n      \"id\": \"sequence.17.finish.port\",\r\n      \"label\": \"sequence.17.finish\",\r\n      \"model\": {\r\n       \"kind\": \"port\",\r\n       \"tagName\": \"finish\",\r\n       \"compound\": false,\r\n       \"provider\": \"custom\",\r\n       \"id\": \"sequence.17.finish.port\"\r\n      },\r\n      \"labels\": []\r\n     },\r\n     {\r\n      \"id\": \"edge.6.link\",\r\n      \"label\": \"sequence.17.start\",\r\n      \"model\": {\r\n       \"kind\": \"port\",\r\n       \"tagName\": \"start\",\r\n       \"compound\": false,\r\n       \"provider\": \"custom\",\r\n       \"id\": \"sequence.17.start.port\"\r\n      },\r\n      \"labels\": []\r\n     },\r\n     {\r\n      \"id\": \"resource.3\",\r\n      \"label\": \"a\",\r\n      \"model\": {\r\n       \"kind\": \"resource\",\r\n       \"title\": \"a\",\r\n       \"direction\": null,\r\n       \"tagName\": \"resource\",\r\n       \"id\": \"resource.3\",\r\n       \"provider\": \"default\",\r\n       \"compound\": false,\r\n       \"data\": {\r\n        \"style\": null\r\n       }\r\n      },\r\n      \"labels\": [],\r\n      \"ports\": [\r\n       {\r\n        \"id\": \"resource.3.start\",\r\n        \"label\": \"resource.3.start\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"port\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"resource.3.start\"\r\n        },\r\n        \"labels\": []\r\n       },\r\n       {\r\n        \"id\": \"resource.3.finish\",\r\n        \"label\": \"resource.3.finish\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"port\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"resource.3.finish\"\r\n        },\r\n        \"labels\": []\r\n       }\r\n      ],\r\n      \"children\": [],\r\n      \"edges\": [],\r\n      \"parent\": {\r\n       \"id\": \"sequence.17\",\r\n       \"label\": \"sequence.17\",\r\n       \"model\": {\r\n        \"kind\": \"sequence\",\r\n        \"title\": \"sequence.17\",\r\n        \"direction\": null,\r\n        \"tagName\": \"sequence\",\r\n        \"id\": \"sequence.17\",\r\n        \"provider\": \"default\",\r\n        \"compound\": true,\r\n        \"data\": {\r\n         \"style\": {\r\n          \"className\": \"sequence\",\r\n          \"provider\": \"default\",\r\n          \"iconURL\": \"assets/icons/base/sequence-diagram-3-fill.svg\"\r\n         }\r\n        }\r\n       },\r\n       \"labels\": [\r\n        {\r\n         \"text\": \"sequence.17\",\r\n         \"properties\": {\r\n          \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n         }\r\n        }\r\n       ]\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"resource.4\",\r\n      \"label\": \"b\",\r\n      \"model\": {\r\n       \"kind\": \"resource\",\r\n       \"title\": \"b\",\r\n       \"direction\": null,\r\n       \"tagName\": \"resource\",\r\n       \"id\": \"resource.4\",\r\n       \"provider\": \"default\",\r\n       \"compound\": false,\r\n       \"data\": {\r\n        \"style\": null\r\n       }\r\n      },\r\n      \"labels\": [],\r\n      \"ports\": [\r\n       {\r\n        \"id\": \"resource.4.start\",\r\n        \"label\": \"resource.4.start\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"port\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"resource.4.start\"\r\n        },\r\n        \"labels\": []\r\n       },\r\n       {\r\n        \"id\": \"resource.4.finish\",\r\n        \"label\": \"resource.4.finish\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"port\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"resource.4.finish\"\r\n        },\r\n        \"labels\": []\r\n       }\r\n      ],\r\n      \"children\": [],\r\n      \"edges\": [],\r\n      \"parent\": {\r\n       \"id\": \"sequence.17\",\r\n       \"label\": \"sequence.17\",\r\n       \"model\": {\r\n        \"kind\": \"sequence\",\r\n        \"title\": \"sequence.17\",\r\n        \"direction\": null,\r\n        \"tagName\": \"sequence\",\r\n        \"id\": \"sequence.17\",\r\n        \"provider\": \"default\",\r\n        \"compound\": true,\r\n        \"data\": {\r\n         \"style\": {\r\n          \"className\": \"sequence\",\r\n          \"provider\": \"default\",\r\n          \"iconURL\": \"assets/icons/base/sequence-diagram-3-fill.svg\"\r\n         }\r\n        }\r\n       },\r\n       \"labels\": [\r\n        {\r\n         \"text\": \"sequence.17\",\r\n         \"properties\": {\r\n          \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n         }\r\n        }\r\n       ]\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"sequence.11\",\r\n      \"label\": \"sequence.11\",\r\n      \"model\": {\r\n       \"kind\": \"sequence\",\r\n       \"title\": \"sequence.11\",\r\n       \"direction\": null,\r\n       \"tagName\": \"sequence\",\r\n       \"id\": \"sequence.11\",\r\n       \"provider\": \"default\",\r\n       \"compound\": true,\r\n       \"data\": {\r\n        \"style\": {\r\n         \"className\": \"sequence\",\r\n         \"provider\": \"default\",\r\n         \"iconURL\": \"assets/icons/base/sequence-diagram-3-fill.svg\"\r\n        }\r\n       }\r\n      },\r\n      \"labels\": [\r\n       {\r\n        \"text\": \"sequence.11\",\r\n        \"properties\": {\r\n         \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n        }\r\n       }\r\n      ],\r\n      \"ports\": [\r\n       {\r\n        \"id\": \"sequence.11.start\",\r\n        \"label\": \"sequence.11.start\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"port\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"sequence.11.start\"\r\n        },\r\n        \"labels\": []\r\n       },\r\n       {\r\n        \"id\": \"sequence.11.finish\",\r\n        \"label\": \"sequence.11.finish\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"port\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"sequence.11.finish\"\r\n        },\r\n        \"labels\": []\r\n       }\r\n      ],\r\n      \"children\": [\r\n       {\r\n        \"id\": \"sequence.11.start.port\",\r\n        \"label\": \"sequence.11.start\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"start\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"sequence.11.start.port\"\r\n        },\r\n        \"labels\": []\r\n       },\r\n       {\r\n        \"id\": \"sequence.11.finish.port\",\r\n        \"label\": \"sequence.11.finish\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"finish\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"sequence.11.finish.port\"\r\n        },\r\n        \"labels\": []\r\n       },\r\n       {\r\n        \"id\": \"resource.5\",\r\n        \"label\": \"a\",\r\n        \"model\": {\r\n         \"kind\": \"resource\",\r\n         \"title\": \"a\",\r\n         \"direction\": null,\r\n         \"tagName\": \"resource\",\r\n         \"id\": \"resource.5\",\r\n         \"provider\": \"default\",\r\n         \"compound\": false,\r\n         \"data\": {\r\n          \"style\": null\r\n         }\r\n        },\r\n        \"labels\": [],\r\n        \"ports\": [\r\n         {\r\n          \"id\": \"resource.5.start\",\r\n          \"label\": \"resource.5.start\",\r\n          \"model\": {\r\n           \"kind\": \"port\",\r\n           \"tagName\": \"port\",\r\n           \"compound\": false,\r\n           \"provider\": \"custom\",\r\n           \"id\": \"resource.5.start\"\r\n          },\r\n          \"labels\": []\r\n         },\r\n         {\r\n          \"id\": \"resource.5.finish\",\r\n          \"label\": \"resource.5.finish\",\r\n          \"model\": {\r\n           \"kind\": \"port\",\r\n           \"tagName\": \"port\",\r\n           \"compound\": false,\r\n           \"provider\": \"custom\",\r\n           \"id\": \"resource.5.finish\"\r\n          },\r\n          \"labels\": []\r\n         }\r\n        ],\r\n        \"children\": [],\r\n        \"edges\": [],\r\n        \"parent\": {\r\n         \"id\": \"sequence.11\",\r\n         \"label\": \"sequence.11\",\r\n         \"model\": {\r\n          \"kind\": \"sequence\",\r\n          \"title\": \"sequence.11\",\r\n          \"direction\": null,\r\n          \"tagName\": \"sequence\",\r\n          \"id\": \"sequence.11\",\r\n          \"provider\": \"default\",\r\n          \"compound\": true,\r\n          \"data\": {\r\n           \"style\": {\r\n            \"className\": \"sequence\",\r\n            \"provider\": \"default\",\r\n            \"iconURL\": \"assets/icons/base/sequence-diagram-3-fill.svg\"\r\n           }\r\n          }\r\n         },\r\n         \"labels\": [\r\n          {\r\n           \"text\": \"sequence.11\",\r\n           \"properties\": {\r\n            \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n           }\r\n          }\r\n         ]\r\n        }\r\n       },\r\n       {\r\n        \"id\": \"resource.6\",\r\n        \"label\": \"b\",\r\n        \"model\": {\r\n         \"kind\": \"resource\",\r\n         \"title\": \"b\",\r\n         \"direction\": null,\r\n         \"tagName\": \"resource\",\r\n         \"id\": \"resource.6\",\r\n         \"provider\": \"default\",\r\n         \"compound\": false,\r\n         \"data\": {\r\n          \"style\": null\r\n         }\r\n        },\r\n        \"labels\": [],\r\n        \"ports\": [\r\n         {\r\n          \"id\": \"resource.6.start\",\r\n          \"label\": \"resource.6.start\",\r\n          \"model\": {\r\n           \"kind\": \"port\",\r\n           \"tagName\": \"port\",\r\n           \"compound\": false,\r\n           \"provider\": \"custom\",\r\n           \"id\": \"resource.6.start\"\r\n          },\r\n          \"labels\": []\r\n         },\r\n         {\r\n          \"id\": \"resource.6.finish\",\r\n          \"label\": \"resource.6.finish\",\r\n          \"model\": {\r\n           \"kind\": \"port\",\r\n           \"tagName\": \"port\",\r\n           \"compound\": false,\r\n           \"provider\": \"custom\",\r\n           \"id\": \"resource.6.finish\"\r\n          },\r\n          \"labels\": []\r\n         }\r\n        ],\r\n        \"children\": [],\r\n        \"edges\": [],\r\n        \"parent\": {\r\n         \"id\": \"sequence.11\",\r\n         \"label\": \"sequence.11\",\r\n         \"model\": {\r\n          \"kind\": \"sequence\",\r\n          \"title\": \"sequence.11\",\r\n          \"direction\": null,\r\n          \"tagName\": \"sequence\",\r\n          \"id\": \"sequence.11\",\r\n          \"provider\": \"default\",\r\n          \"compound\": true,\r\n          \"data\": {\r\n           \"style\": {\r\n            \"className\": \"sequence\",\r\n            \"provider\": \"default\",\r\n            \"iconURL\": \"assets/icons/base/sequence-diagram-3-fill.svg\"\r\n           }\r\n          }\r\n         },\r\n         \"labels\": [\r\n          {\r\n           \"text\": \"sequence.11\",\r\n           \"properties\": {\r\n            \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n           }\r\n          }\r\n         ]\r\n        }\r\n       },\r\n       {\r\n        \"id\": \"resource.13\",\r\n        \"label\": \"merge\",\r\n        \"model\": {\r\n         \"kind\": \"resource\",\r\n         \"title\": \"merge\",\r\n         \"direction\": null,\r\n         \"tagName\": \"resource\",\r\n         \"id\": \"resource.13\",\r\n         \"provider\": \"default\",\r\n         \"compound\": false,\r\n         \"data\": {}\r\n        },\r\n        \"labels\": [],\r\n        \"ports\": [\r\n         {\r\n          \"id\": \"resource.13.start\",\r\n          \"label\": \"resource.13.start\",\r\n          \"model\": {\r\n           \"kind\": \"port\",\r\n           \"tagName\": \"port\",\r\n           \"compound\": false,\r\n           \"provider\": \"custom\",\r\n           \"id\": \"resource.13.start\"\r\n          },\r\n          \"labels\": []\r\n         },\r\n         {\r\n          \"id\": \"resource.13.finish\",\r\n          \"label\": \"resource.13.finish\",\r\n          \"model\": {\r\n           \"kind\": \"port\",\r\n           \"tagName\": \"port\",\r\n           \"compound\": false,\r\n           \"provider\": \"custom\",\r\n           \"id\": \"resource.13.finish\"\r\n          },\r\n          \"labels\": []\r\n         }\r\n        ],\r\n        \"children\": [],\r\n        \"edges\": [],\r\n        \"parent\": {\r\n         \"id\": \"sequence.11\",\r\n         \"label\": \"sequence.11\",\r\n         \"model\": {\r\n          \"kind\": \"sequence\",\r\n          \"title\": \"sequence.11\",\r\n          \"direction\": null,\r\n          \"tagName\": \"sequence\",\r\n          \"id\": \"sequence.11\",\r\n          \"provider\": \"default\",\r\n          \"compound\": true,\r\n          \"data\": {\r\n           \"style\": {\r\n            \"className\": \"sequence\",\r\n            \"provider\": \"default\",\r\n            \"iconURL\": \"assets/icons/base/sequence-diagram-3-fill.svg\"\r\n           }\r\n          }\r\n         },\r\n         \"labels\": [\r\n          {\r\n           \"text\": \"sequence.11\",\r\n           \"properties\": {\r\n            \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n           }\r\n          }\r\n         ]\r\n        }\r\n       },\r\n       {\r\n        \"id\": \"group.9\",\r\n        \"label\": \"group.9\",\r\n        \"model\": {\r\n         \"kind\": \"group\",\r\n         \"title\": \"group.9\",\r\n         \"direction\": null,\r\n         \"tagName\": \"group\",\r\n         \"id\": \"group.9\",\r\n         \"provider\": \"default\",\r\n         \"compound\": true,\r\n         \"data\": {\r\n          \"style\": {\r\n           \"className\": \"group\",\r\n           \"provider\": \"default\",\r\n           \"iconURL\": \"assets/icons/base/group-grid-fill.svg\"\r\n          }\r\n         }\r\n        },\r\n        \"labels\": [\r\n         {\r\n          \"text\": \"group.9\",\r\n          \"properties\": {\r\n           \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n          }\r\n         }\r\n        ],\r\n        \"ports\": [\r\n         {\r\n          \"id\": \"group.9.start\",\r\n          \"label\": \"group.9.start\",\r\n          \"model\": {\r\n           \"kind\": \"port\",\r\n           \"tagName\": \"port\",\r\n           \"compound\": false,\r\n           \"provider\": \"custom\",\r\n           \"id\": \"group.9.start\"\r\n          },\r\n          \"labels\": []\r\n         },\r\n         {\r\n          \"id\": \"group.9.finish\",\r\n          \"label\": \"group.9.finish\",\r\n          \"model\": {\r\n           \"kind\": \"port\",\r\n           \"tagName\": \"port\",\r\n           \"compound\": false,\r\n           \"provider\": \"custom\",\r\n           \"id\": \"group.9.finish\"\r\n          },\r\n          \"labels\": []\r\n         }\r\n        ],\r\n        \"children\": [\r\n         {\r\n          \"id\": \"resource.7\",\r\n          \"label\": \"c\",\r\n          \"model\": {\r\n           \"kind\": \"resource\",\r\n           \"title\": \"c\",\r\n           \"direction\": null,\r\n           \"tagName\": \"resource\",\r\n           \"id\": \"resource.7\",\r\n           \"provider\": \"default\",\r\n           \"compound\": false,\r\n           \"data\": {\r\n            \"style\": null\r\n           }\r\n          },\r\n          \"labels\": [],\r\n          \"ports\": [\r\n           {\r\n            \"id\": \"resource.7.start\",\r\n            \"label\": \"resource.7.start\",\r\n            \"model\": {\r\n             \"kind\": \"port\",\r\n             \"tagName\": \"port\",\r\n             \"compound\": false,\r\n             \"provider\": \"custom\",\r\n             \"id\": \"resource.7.start\"\r\n            },\r\n            \"labels\": []\r\n           },\r\n           {\r\n            \"id\": \"resource.7.finish\",\r\n            \"label\": \"resource.7.finish\",\r\n            \"model\": {\r\n             \"kind\": \"port\",\r\n             \"tagName\": \"port\",\r\n             \"compound\": false,\r\n             \"provider\": \"custom\",\r\n             \"id\": \"resource.7.finish\"\r\n            },\r\n            \"labels\": []\r\n           }\r\n          ],\r\n          \"children\": [],\r\n          \"edges\": [],\r\n          \"parent\": {\r\n           \"id\": \"group.9\",\r\n           \"label\": \"group.9\",\r\n           \"model\": {\r\n            \"kind\": \"group\",\r\n            \"title\": \"group.9\",\r\n            \"direction\": null,\r\n            \"tagName\": \"group\",\r\n            \"id\": \"group.9\",\r\n            \"provider\": \"default\",\r\n            \"compound\": true,\r\n            \"data\": {\r\n             \"style\": {\r\n              \"className\": \"group\",\r\n              \"provider\": \"default\",\r\n              \"iconURL\": \"assets/icons/base/group-grid-fill.svg\"\r\n             }\r\n            }\r\n           },\r\n           \"labels\": [\r\n            {\r\n             \"text\": \"group.9\",\r\n             \"properties\": {\r\n              \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n             }\r\n            }\r\n           ]\r\n          }\r\n         },\r\n         {\r\n          \"id\": \"resource.8\",\r\n          \"label\": \"d\",\r\n          \"model\": {\r\n           \"kind\": \"resource\",\r\n           \"title\": \"d\",\r\n           \"direction\": null,\r\n           \"tagName\": \"resource\",\r\n           \"id\": \"resource.8\",\r\n           \"provider\": \"default\",\r\n           \"compound\": false,\r\n           \"data\": {\r\n            \"style\": null\r\n           }\r\n          },\r\n          \"labels\": [],\r\n          \"ports\": [\r\n           {\r\n            \"id\": \"resource.8.start\",\r\n            \"label\": \"resource.8.start\",\r\n            \"model\": {\r\n             \"kind\": \"port\",\r\n             \"tagName\": \"port\",\r\n             \"compound\": false,\r\n             \"provider\": \"custom\",\r\n             \"id\": \"resource.8.start\"\r\n            },\r\n            \"labels\": []\r\n           },\r\n           {\r\n            \"id\": \"resource.8.finish\",\r\n            \"label\": \"resource.8.finish\",\r\n            \"model\": {\r\n             \"kind\": \"port\",\r\n             \"tagName\": \"port\",\r\n             \"compound\": false,\r\n             \"provider\": \"custom\",\r\n             \"id\": \"resource.8.finish\"\r\n            },\r\n            \"labels\": []\r\n           }\r\n          ],\r\n          \"children\": [],\r\n          \"edges\": [],\r\n          \"parent\": {\r\n           \"id\": \"group.9\",\r\n           \"label\": \"group.9\",\r\n           \"model\": {\r\n            \"kind\": \"group\",\r\n            \"title\": \"group.9\",\r\n            \"direction\": null,\r\n            \"tagName\": \"group\",\r\n            \"id\": \"group.9\",\r\n            \"provider\": \"default\",\r\n            \"compound\": true,\r\n            \"data\": {\r\n             \"style\": {\r\n              \"className\": \"group\",\r\n              \"provider\": \"default\",\r\n              \"iconURL\": \"assets/icons/base/group-grid-fill.svg\"\r\n             }\r\n            }\r\n           },\r\n           \"labels\": [\r\n            {\r\n             \"text\": \"group.9\",\r\n             \"properties\": {\r\n              \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n             }\r\n            }\r\n           ]\r\n          }\r\n         }\r\n        ],\r\n        \"edges\": [],\r\n        \"parent\": {\r\n         \"id\": \"sequence.11\",\r\n         \"label\": \"sequence.11\",\r\n         \"model\": {\r\n          \"kind\": \"sequence\",\r\n          \"title\": \"sequence.11\",\r\n          \"direction\": null,\r\n          \"tagName\": \"sequence\",\r\n          \"id\": \"sequence.11\",\r\n          \"provider\": \"default\",\r\n          \"compound\": true,\r\n          \"data\": {\r\n           \"style\": {\r\n            \"className\": \"sequence\",\r\n            \"provider\": \"default\",\r\n            \"iconURL\": \"assets/icons/base/sequence-diagram-3-fill.svg\"\r\n           }\r\n          }\r\n         },\r\n         \"labels\": [\r\n          {\r\n           \"text\": \"sequence.11\",\r\n           \"properties\": {\r\n            \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n           }\r\n          }\r\n         ]\r\n        }\r\n       },\r\n       {\r\n        \"id\": \"resource.10\",\r\n        \"label\": \"e\",\r\n        \"model\": {\r\n         \"kind\": \"resource\",\r\n         \"title\": \"e\",\r\n         \"direction\": null,\r\n         \"tagName\": \"resource\",\r\n         \"id\": \"resource.10\",\r\n         \"provider\": \"default\",\r\n         \"compound\": false,\r\n         \"data\": {\r\n          \"style\": null\r\n         }\r\n        },\r\n        \"labels\": [],\r\n        \"ports\": [\r\n         {\r\n          \"id\": \"resource.10.start\",\r\n          \"label\": \"resource.10.start\",\r\n          \"model\": {\r\n           \"kind\": \"port\",\r\n           \"tagName\": \"port\",\r\n           \"compound\": false,\r\n           \"provider\": \"custom\",\r\n           \"id\": \"resource.10.start\"\r\n          },\r\n          \"labels\": []\r\n         },\r\n         {\r\n          \"id\": \"resource.10.finish\",\r\n          \"label\": \"resource.10.finish\",\r\n          \"model\": {\r\n           \"kind\": \"port\",\r\n           \"tagName\": \"port\",\r\n           \"compound\": false,\r\n           \"provider\": \"custom\",\r\n           \"id\": \"resource.10.finish\"\r\n          },\r\n          \"labels\": []\r\n         }\r\n        ],\r\n        \"children\": [],\r\n        \"edges\": [],\r\n        \"parent\": {\r\n         \"id\": \"sequence.11\",\r\n         \"label\": \"sequence.11\",\r\n         \"model\": {\r\n          \"kind\": \"sequence\",\r\n          \"title\": \"sequence.11\",\r\n          \"direction\": null,\r\n          \"tagName\": \"sequence\",\r\n          \"id\": \"sequence.11\",\r\n          \"provider\": \"default\",\r\n          \"compound\": true,\r\n          \"data\": {\r\n           \"style\": {\r\n            \"className\": \"sequence\",\r\n            \"provider\": \"default\",\r\n            \"iconURL\": \"assets/icons/base/sequence-diagram-3-fill.svg\"\r\n           }\r\n          }\r\n         },\r\n         \"labels\": [\r\n          {\r\n           \"text\": \"sequence.11\",\r\n           \"properties\": {\r\n            \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n           }\r\n          }\r\n         ]\r\n        }\r\n       }\r\n      ],\r\n      \"edges\": [\r\n       {\r\n        \"id\": \"edge.15\",\r\n        \"sources\": [\r\n         \"sequence.11.start.port\"\r\n        ],\r\n        \"targets\": [\r\n         \"resource.5.start\"\r\n        ],\r\n        \"model\": {\r\n         \"provider\": \"default\",\r\n         \"tagName\": \"edge\",\r\n         \"kind\": \"edge\"\r\n        },\r\n        \"style\": {\r\n         \"startArrow\": false,\r\n         \"endArrow\": true\r\n        }\r\n       },\r\n       {\r\n        \"id\": \"edge.16\",\r\n        \"sources\": [\r\n         \"sequence.11.start.port\"\r\n        ],\r\n        \"targets\": [\r\n         \"resource.6.start\"\r\n        ],\r\n        \"model\": {\r\n         \"provider\": \"default\",\r\n         \"tagName\": \"edge\",\r\n         \"kind\": \"edge\"\r\n        },\r\n        \"style\": {\r\n         \"startArrow\": false,\r\n         \"endArrow\": true\r\n        }\r\n       },\r\n       {\r\n        \"id\": \"edge.17\",\r\n        \"sources\": [\r\n         \"resource.5.finish\"\r\n        ],\r\n        \"targets\": [\r\n         \"resource.13.start\"\r\n        ],\r\n        \"model\": {\r\n         \"provider\": \"default\",\r\n         \"tagName\": \"edge\",\r\n         \"kind\": \"edge\"\r\n        },\r\n        \"style\": {\r\n         \"startArrow\": false,\r\n         \"endArrow\": true\r\n        }\r\n       },\r\n       {\r\n        \"id\": \"edge.18\",\r\n        \"sources\": [\r\n         \"resource.6.finish\"\r\n        ],\r\n        \"targets\": [\r\n         \"resource.13.start\"\r\n        ],\r\n        \"model\": {\r\n         \"provider\": \"default\",\r\n         \"tagName\": \"edge\",\r\n         \"kind\": \"edge\"\r\n        },\r\n        \"style\": {\r\n         \"startArrow\": false,\r\n         \"endArrow\": true\r\n        }\r\n       },\r\n       {\r\n        \"id\": \"edge.19\",\r\n        \"sources\": [\r\n         \"resource.13.finish\"\r\n        ],\r\n        \"targets\": [\r\n         \"group.9.start\"\r\n        ],\r\n        \"model\": {\r\n         \"provider\": \"default\",\r\n         \"tagName\": \"edge\",\r\n         \"kind\": \"edge\"\r\n        },\r\n        \"style\": {\r\n         \"startArrow\": false,\r\n         \"endArrow\": true\r\n        }\r\n       },\r\n       {\r\n        \"id\": \"edge.20\",\r\n        \"sources\": [\r\n         \"group.9.finish\"\r\n        ],\r\n        \"targets\": [\r\n         \"resource.10.start\"\r\n        ],\r\n        \"model\": {\r\n         \"provider\": \"default\",\r\n         \"tagName\": \"edge\",\r\n         \"kind\": \"edge\"\r\n        },\r\n        \"style\": {\r\n         \"startArrow\": false,\r\n         \"endArrow\": true\r\n        }\r\n       },\r\n       {\r\n        \"id\": \"edge.21\",\r\n        \"sources\": [\r\n         \"resource.10.finish\"\r\n        ],\r\n        \"targets\": [\r\n         \"sequence.11.finish.port\"\r\n        ],\r\n        \"model\": {\r\n         \"provider\": \"default\",\r\n         \"tagName\": \"edge\",\r\n         \"kind\": \"edge\"\r\n        },\r\n        \"style\": {\r\n         \"startArrow\": false,\r\n         \"endArrow\": true\r\n        }\r\n       }\r\n      ],\r\n      \"parent\": {\r\n       \"id\": \"sequence.17\",\r\n       \"label\": \"sequence.17\",\r\n       \"model\": {\r\n        \"kind\": \"sequence\",\r\n        \"title\": \"sequence.17\",\r\n        \"direction\": null,\r\n        \"tagName\": \"sequence\",\r\n        \"id\": \"sequence.17\",\r\n        \"provider\": \"default\",\r\n        \"compound\": true,\r\n        \"data\": {\r\n         \"style\": {\r\n          \"className\": \"sequence\",\r\n          \"provider\": \"default\",\r\n          \"iconURL\": \"assets/icons/base/sequence-diagram-3-fill.svg\"\r\n         }\r\n        }\r\n       },\r\n       \"labels\": [\r\n        {\r\n         \"text\": \"sequence.17\",\r\n         \"properties\": {\r\n          \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n         }\r\n        }\r\n       ]\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"resource.14\",\r\n      \"label\": \"c\",\r\n      \"model\": {\r\n       \"kind\": \"resource\",\r\n       \"title\": \"c\",\r\n       \"direction\": null,\r\n       \"tagName\": \"resource\",\r\n       \"id\": \"resource.14\",\r\n       \"provider\": \"default\",\r\n       \"compound\": false,\r\n       \"data\": {\r\n        \"style\": null\r\n       }\r\n      },\r\n      \"labels\": [],\r\n      \"ports\": [\r\n       {\r\n        \"id\": \"resource.14.start\",\r\n        \"label\": \"resource.14.start\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"port\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"resource.14.start\"\r\n        },\r\n        \"labels\": []\r\n       },\r\n       {\r\n        \"id\": \"resource.14.finish\",\r\n        \"label\": \"resource.14.finish\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"port\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"resource.14.finish\"\r\n        },\r\n        \"labels\": []\r\n       }\r\n      ],\r\n      \"children\": [],\r\n      \"edges\": [],\r\n      \"parent\": {\r\n       \"id\": \"sequence.17\",\r\n       \"label\": \"sequence.17\",\r\n       \"model\": {\r\n        \"kind\": \"sequence\",\r\n        \"title\": \"sequence.17\",\r\n        \"direction\": null,\r\n        \"tagName\": \"sequence\",\r\n        \"id\": \"sequence.17\",\r\n        \"provider\": \"default\",\r\n        \"compound\": true,\r\n        \"data\": {\r\n         \"style\": {\r\n          \"className\": \"sequence\",\r\n          \"provider\": \"default\",\r\n          \"iconURL\": \"assets/icons/base/sequence-diagram-3-fill.svg\"\r\n         }\r\n        }\r\n       },\r\n       \"labels\": [\r\n        {\r\n         \"text\": \"sequence.17\",\r\n         \"properties\": {\r\n          \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n         }\r\n        }\r\n       ]\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"resource.15\",\r\n      \"label\": \"d\",\r\n      \"model\": {\r\n       \"kind\": \"resource\",\r\n       \"title\": \"d\",\r\n       \"direction\": null,\r\n       \"tagName\": \"resource\",\r\n       \"id\": \"resource.15\",\r\n       \"provider\": \"default\",\r\n       \"compound\": false,\r\n       \"data\": {\r\n        \"style\": null\r\n       }\r\n      },\r\n      \"labels\": [],\r\n      \"ports\": [\r\n       {\r\n        \"id\": \"resource.15.start\",\r\n        \"label\": \"resource.15.start\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"port\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"resource.15.start\"\r\n        },\r\n        \"labels\": []\r\n       },\r\n       {\r\n        \"id\": \"resource.15.finish\",\r\n        \"label\": \"resource.15.finish\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"port\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"resource.15.finish\"\r\n        },\r\n        \"labels\": []\r\n       }\r\n      ],\r\n      \"children\": [],\r\n      \"edges\": [],\r\n      \"parent\": {\r\n       \"id\": \"sequence.17\",\r\n       \"label\": \"sequence.17\",\r\n       \"model\": {\r\n        \"kind\": \"sequence\",\r\n        \"title\": \"sequence.17\",\r\n        \"direction\": null,\r\n        \"tagName\": \"sequence\",\r\n        \"id\": \"sequence.17\",\r\n        \"provider\": \"default\",\r\n        \"compound\": true,\r\n        \"data\": {\r\n         \"style\": {\r\n          \"className\": \"sequence\",\r\n          \"provider\": \"default\",\r\n          \"iconURL\": \"assets/icons/base/sequence-diagram-3-fill.svg\"\r\n         }\r\n        }\r\n       },\r\n       \"labels\": [\r\n        {\r\n         \"text\": \"sequence.17\",\r\n         \"properties\": {\r\n          \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n         }\r\n        }\r\n       ]\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"resource.16\",\r\n      \"label\": \"e\",\r\n      \"model\": {\r\n       \"kind\": \"resource\",\r\n       \"title\": \"e\",\r\n       \"direction\": null,\r\n       \"tagName\": \"resource\",\r\n       \"id\": \"resource.16\",\r\n       \"provider\": \"default\",\r\n       \"compound\": false,\r\n       \"data\": {\r\n        \"style\": null\r\n       }\r\n      },\r\n      \"labels\": [],\r\n      \"ports\": [\r\n       {\r\n        \"id\": \"resource.16.start\",\r\n        \"label\": \"resource.16.start\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"port\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"resource.16.start\"\r\n        },\r\n        \"labels\": []\r\n       },\r\n       {\r\n        \"id\": \"resource.16.finish\",\r\n        \"label\": \"resource.16.finish\",\r\n        \"model\": {\r\n         \"kind\": \"port\",\r\n         \"tagName\": \"port\",\r\n         \"compound\": false,\r\n         \"provider\": \"custom\",\r\n         \"id\": \"resource.16.finish\"\r\n        },\r\n        \"labels\": []\r\n       }\r\n      ],\r\n      \"children\": [],\r\n      \"edges\": [],\r\n      \"parent\": {\r\n       \"id\": \"sequence.17\",\r\n       \"label\": \"sequence.17\",\r\n       \"model\": {\r\n        \"kind\": \"sequence\",\r\n        \"title\": \"sequence.17\",\r\n        \"direction\": null,\r\n        \"tagName\": \"sequence\",\r\n        \"id\": \"sequence.17\",\r\n        \"provider\": \"default\",\r\n        \"compound\": true,\r\n        \"data\": {\r\n         \"style\": {\r\n          \"className\": \"sequence\",\r\n          \"provider\": \"default\",\r\n          \"iconURL\": \"assets/icons/base/sequence-diagram-3-fill.svg\"\r\n         }\r\n        }\r\n       },\r\n       \"labels\": [\r\n        {\r\n         \"text\": \"sequence.17\",\r\n         \"properties\": {\r\n          \"nodeLabels.placement\": \"[V_TOP, H_LEFT, INSIDE]\"\r\n         }\r\n        }\r\n       ]\r\n      }\r\n     }\r\n    ],\r\n    \"edges\": [\r\n     {\r\n      \"id\": \"edge.3\",\r\n      \"sources\": [\r\n       \"sequence.17.start.port\"\r\n      ],\r\n      \"targets\": [\r\n       \"resource.3.start\"\r\n      ],\r\n      \"model\": {\r\n       \"provider\": \"default\",\r\n       \"tagName\": \"edge\",\r\n       \"kind\": \"edge\"\r\n      },\r\n      \"style\": {\r\n       \"startArrow\": false,\r\n       \"endArrow\": true\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"edge.4\",\r\n      \"sources\": [\r\n       \"sequence.17.start.port\"\r\n      ],\r\n      \"targets\": [\r\n       \"resource.4.start\"\r\n      ],\r\n      \"model\": {\r\n       \"provider\": \"default\",\r\n       \"tagName\": \"edge\",\r\n       \"kind\": \"edge\"\r\n      },\r\n      \"style\": {\r\n       \"startArrow\": false,\r\n       \"endArrow\": true\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"edge.5\",\r\n      \"sources\": [\r\n       \"sequence.17.start.port\"\r\n      ],\r\n      \"targets\": [\r\n       \"sequence.11.start\"\r\n      ],\r\n      \"model\": {\r\n       \"provider\": \"default\",\r\n       \"tagName\": \"edge\",\r\n       \"kind\": \"edge\"\r\n      },\r\n      \"style\": {\r\n       \"startArrow\": false,\r\n       \"endArrow\": true\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"edge.7\",\r\n      \"sources\": [\r\n       \"resource.3.finish\"\r\n      ],\r\n      \"targets\": [\r\n       \"edge.6.link\"\r\n      ],\r\n      \"model\": {\r\n       \"provider\": \"default\",\r\n       \"tagName\": \"edge\",\r\n       \"kind\": \"edge\"\r\n      },\r\n      \"style\": {\r\n       \"startArrow\": false,\r\n       \"endArrow\": true\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"edge.8\",\r\n      \"sources\": [\r\n       \"resource.4.finish\"\r\n      ],\r\n      \"targets\": [\r\n       \"edge.6.link\"\r\n      ],\r\n      \"model\": {\r\n       \"provider\": \"default\",\r\n       \"tagName\": \"edge\",\r\n       \"kind\": \"edge\"\r\n      },\r\n      \"style\": {\r\n       \"startArrow\": false,\r\n       \"endArrow\": true\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"edge.9\",\r\n      \"sources\": [\r\n       \"sequence.11.finish\"\r\n      ],\r\n      \"targets\": [\r\n       \"edge.6.link\"\r\n      ],\r\n      \"model\": {\r\n       \"provider\": \"default\",\r\n       \"tagName\": \"edge\",\r\n       \"kind\": \"edge\"\r\n      },\r\n      \"style\": {\r\n       \"startArrow\": false,\r\n       \"endArrow\": true\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"edge.10\",\r\n      \"sources\": [\r\n       \"edge.6.link\"\r\n      ],\r\n      \"targets\": [\r\n       \"resource.14.start\"\r\n      ],\r\n      \"model\": {\r\n       \"provider\": \"default\",\r\n       \"tagName\": \"edge\",\r\n       \"kind\": \"edge\"\r\n      },\r\n      \"style\": {\r\n       \"startArrow\": false,\r\n       \"endArrow\": true\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"edge.11\",\r\n      \"sources\": [\r\n       \"edge.6.link\"\r\n      ],\r\n      \"targets\": [\r\n       \"resource.15.start\"\r\n      ],\r\n      \"model\": {\r\n       \"provider\": \"default\",\r\n       \"tagName\": \"edge\",\r\n       \"kind\": \"edge\"\r\n      },\r\n      \"style\": {\r\n       \"startArrow\": false,\r\n       \"endArrow\": true\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"edge.12\",\r\n      \"sources\": [\r\n       \"resource.14.finish\"\r\n      ],\r\n      \"targets\": [\r\n       \"resource.16.start\"\r\n      ],\r\n      \"model\": {\r\n       \"provider\": \"default\",\r\n       \"tagName\": \"edge\",\r\n       \"kind\": \"edge\"\r\n      },\r\n      \"style\": {\r\n       \"startArrow\": false,\r\n       \"endArrow\": true\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"edge.13\",\r\n      \"sources\": [\r\n       \"resource.15.finish\"\r\n      ],\r\n      \"targets\": [\r\n       \"resource.16.start\"\r\n      ],\r\n      \"model\": {\r\n       \"provider\": \"default\",\r\n       \"tagName\": \"edge\",\r\n       \"kind\": \"edge\"\r\n      },\r\n      \"style\": {\r\n       \"startArrow\": false,\r\n       \"endArrow\": true\r\n      }\r\n     },\r\n     {\r\n      \"id\": \"edge.14\",\r\n      \"sources\": [\r\n       \"resource.16.finish\"\r\n      ],\r\n      \"targets\": [\r\n       \"sequence.17.finish.port\"\r\n      ],\r\n      \"model\": {\r\n       \"provider\": \"default\",\r\n       \"tagName\": \"edge\",\r\n       \"kind\": \"edge\"\r\n      },\r\n      \"style\": {\r\n       \"startArrow\": false,\r\n       \"endArrow\": true\r\n      }\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n };","import './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport 'es6-promise/auto';  // polyfill Promise on IE\r\n\r\nimport * as diagram from './preview/diagram';\r\n\r\nimport { sample } from './sample.js';\r\n\r\nconst contentPane = document.getElementById('root');\r\nconst selectElt: HTMLSelectElement = (document.getElementById('select') as HTMLSelectElement);\r\nconst minimapContainer = document.getElementById('mini-map');\r\nminimapContainer?.setAttribute('class', 'minimap-container');\r\n\r\nconst renderer = diagram.createElkX6Renderer(contentPane, minimapContainer);\r\n\r\nfunction resizeWindow() {\r\n\r\n  renderer.graph.resize(\r\n    window.document.documentElement.clientWidth,\r\n    window.document.documentElement.clientHeight - selectElt.offsetHeight\r\n  );\r\n\r\n  renderer.graph.centerContent();\r\n  renderer.graph.zoomToFit({ padding: 8 });\r\n  console.log('onresize');\r\n}\r\n\r\nlet listener: any = null;\r\nlet curParams: any = null;\r\nfunction updateSelection(params: any) {\r\n  let curSelection = null;\r\n  if (curParams !== null && curParams.key === params.key) {\r\n    // Find current selection\r\n    curSelection = selectElt?.value;\r\n  }\r\n\r\n  //CurrentSelection has been removed\r\n  if (curSelection !== null && !params.values.has(curSelection)) {\r\n    curSelection = null;\r\n  }\r\n\r\n  curParams = params;\r\n  // Populate select component from list of samples\r\n  // Recreate flow options\r\n  while (selectElt?.firstChild) {\r\n    selectElt.firstChild.remove();\r\n  }\r\n\r\n  params.values.forEach((value: any, key: any) => {\r\n    let opt = document.createElement('option');\r\n    opt.value = key;\r\n    opt.text = params.key + ' - ' + key;\r\n    selectElt?.add(opt);\r\n  });\r\n\r\n  if (listener != null) {\r\n    selectElt?.removeEventListener('change', listener);\r\n    listener = null;\r\n  }\r\n\r\n  // Display flow\r\n  // Update flow when the selection changes \r\n  if (listener == null) {\r\n    listener = (event: Event) => {\r\n      const result = params.values.get((event.target as any).value);\r\n      renderer.render(result);\r\n    };\r\n    selectElt?.addEventListener('change', listener);\r\n  }\r\n  //selectElt.options[0].selected = true;\r\n  selectElt.value = curSelection !== null ? curSelection : selectElt.options[0].value;\r\n  selectElt.dispatchEvent(new Event('change'));\r\n\r\n}\r\n\r\nconst messageCallbackFn = function (event: any) {\r\n  if (event.data.jsonrpc !== undefined) {\r\n    console.log('event => ' + event.data.method);\r\n    if (event.data.method === 'view.update') {\r\n      // Convert entries array to map\r\n      renderer.render(event.data.params);\r\n    } else if (event.data.method === 'selection.update') {\r\n      // Convert entries array to map\r\n      updateSelection(event.data.params);\r\n    }\r\n  }\r\n};\r\n\r\nwindow.addEventListener('message', (event) => {\r\n  if (event.origin !== window.location.origin) {\r\n    //return;\r\n  }\r\n  console.log('=> Window.onmessage' + event);\r\n  messageCallbackFn(event);\r\n\r\n}, false);\r\n\r\n\r\nwindow.addEventListener('resize', resizeWindow);\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\nrenderer.render(sample);\r\n\r\n"],"sourceRoot":""}